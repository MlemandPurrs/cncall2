FACT:
	Inherits: ^Building
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	Selectable:
		Bounds: 72,72
	HitShape:
		TargetableOffsets: 1273,939,0, -980,-640,0, -980,640,0
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	Building:
		Footprint: xxX xxx =x=
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	BaseBuilding:
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	Power:
		Amount: 50
		RequiresCondition: !build-incomplete
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		Description: Produces structures.
	Tooltip:
		Name: Construction Yard
	Valued:
		Cost: 2500
	Health:
		HP: 150000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Factions: allies, usa, england, holland, france, sweden, germany, spain, italy, greece, turkey
		Prerequisite: structures.allies
	ProvidesPrerequisite@alliesvanilla:
		Factions: allies
		Prerequisite: structures.alliesvanilla
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: structures.usa
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: structures.england
	ProvidesPrerequisite@holland:
		Factions: holland
		Prerequisite: structures.holland
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: structures.france
	ProvidesPrerequisite@sweden:
		Factions: sweden
		Prerequisite: structures.sweden
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: structures.germany
	ProvidesPrerequisite@spain:
		Factions: spain
		Prerequisite: structures.spain
	ProvidesPrerequisite@italy:
		Factions: italy
		Prerequisite: structures.italy
	ProvidesPrerequisite@greece:
		Factions: greece
		Prerequisite: structures.greece
	ProvidesPrerequisite@turkey:
		Factions: turkey
		Prerequisite: structures.turkey
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, moldova, belarus, karelia, kazakh, kyrgiz, uzbek, turkmen, afghan
		Prerequisite: structures.soviet
	ProvidesPrerequisite@sovietvanilla:
		Factions: soviet
		Prerequisite: structures.sovietvanilla
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: structures.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: structures.ukraine
	ProvidesPrerequisite@moldova:
		Factions: moldova
		Prerequisite: structures.moldova
	ProvidesPrerequisite@belarus:
		Factions: belarus
		Prerequisite: structures.belarus
	ProvidesPrerequisite@karelia:
		Factions: karelia
		Prerequisite: structures.karelia
	ProvidesPrerequisite@kazakh:
		Factions: kazakh
		Prerequisite: structures.kazakh
	ProvidesPrerequisite@kyrgiz:
		Factions: kyrgiz
		Prerequisite: structures.kyrgiz
	ProvidesPrerequisite@uzbek:
		Factions: uzbek
		Prerequisite: structures.uzbek
	ProvidesPrerequisite@turkmen:
		Factions: turkmen
		Prerequisite: structures.turkmen
	ProvidesPrerequisite@afghan:
		Factions: afghan
		Prerequisite: structures.afghan
	ProvidesPrerequisite@MCVLIMITER:
		Prerequisite: mcv.ai
		RequiresPrerequisites: aitoodumb
	Production:
		Produces: Building,Defense,Fakestructure,Dummy
		PauseOnCondition: disabled || build-incomplete
	ProductionBar@Building:
		ProductionType: Building
	ProductionBar@Defense:
		ProductionType: Defense
		Color: 8A8A8A
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: chrono-vortex || being-captured || being-demolished || build-incomplete
		IntoActor: mcv
		Offset: 1,1
		Facing: 96
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, fix.cnc
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	ConyardChronoReturn:
		ReturnOriginalActorOnCondition: build-incomplete
		Condition: chrono-vortex
		Damage: 950
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !being-demolished
	SpawnActorsOnSell:
		ActorTypes: e1,e1,e1,tecn,tecn,e6
	WithBuildingBib:
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: fact.husk
		OwnerType: InternalName
	GpsDot:
		String: ConYard
	ProduceActorPower@Maintenance:
		PauseOnCondition: disabled || lowpower
		OrderName: MaintenanceUse
		Prerequisites: indp, ~techlevel.unrestricted
		Actors: dummy.maintenance
		ChargeInterval: 7500
		Icon: mainticon
		Description: Maintenance
		LongDesc: Instantly gives 3000$ but disables all War Factories for 1.5 minute.
		Type: Dummy
		SupportPowerPaletteOrder: 9
	Exit@1:
	ExitsDebugOverlay:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical

POWR:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1
		Prerequisites: ~!structures.gdi, ~!structures.nod, ~!player.turkey, ~techlevel.infonly
		Description: Provides Power for other structures.\nCan be Infiltrated by a Spy or Saboteur\nresulting in a temporary blackout.
	Valued:
		Cost: 300
	Tooltip:
		Name: Power Plant
	ProvidesPrerequisite:
		Prerequisite: anypower
	Health:
		HP: 40000
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate, ThiefInfiltrate
	Capturable@3:
		RequiresCondition: !build-incomplete
		Types: sbh-demolish
	Targetable@SBHFIX:
		TargetTypes: NotThis
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 100
		RequiresCondition: !build-incomplete
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: powr.husk
		OwnerType: InternalName
	WithIdleOverlay@SMOKE:
		RequiresCondition: !build-incomplete && !disabled
		Sequence: idle-smoke
	RenderSprites:
		Image: powr
		FactionImages:
			allies: powrgrey
			usa: powrgrey
			england: powrgrey
			holland: powrgrey
			france: powrgrey
			sweden: powrgrey
			germany: powrgrey
			spain: powrgrey
			italy: powrgrey
			greece: powrgrey
			turkey: powrgrey
	GpsDot:
		String: Power

APWR:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^3x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	SelectionDecorations:
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-10
	HitShape:
		TargetableOffsets: -355,-1024,0
	Building:
		Footprint: xxx Xxx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 13
		Prerequisites: dome, ~!structures.gdi, ~!structures.nod, ~!player.turkey, ~techlevel.medium
		Description: Provides double the Power of\na standard Power Plant.\nCan be Infiltrated by a Spy or Saboteur\nresulting in a temporary blackout.
	Valued:
		Cost: 600
	Tooltip:
		Name: Advanced Power Plant
	Health:
		HP: 80000
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate
	Capturable@3:
		RequiresCondition: !build-incomplete
		Types: sbh-demolish
	Targetable@SBHFIX:
		TargetTypes: NotThis
	Armor:
		Type: Wood
	ProvidesPrerequisite:
		Prerequisite: anypower
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 200
		RequiresCondition: !build-incomplete
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: apwr.husk
		OwnerType: InternalName
	WithIdleOverlay@SMOKE:
		RequiresCondition: !build-incomplete && !disabled
		Sequence: idle-smoke
	RenderSprites:
		Image: apwr
		FactionImages:
			allies: apwrgrey
			usa: apwrgrey
			england: apwrgrey
			holland: apwrgrey
			france: apwrgrey
			sweden: apwrgrey
			germany: apwrgrey
			spain: apwrgrey
			italy: apwrgrey
			greece: apwrgrey
			turkey: apwrgrey
	GpsDot:
		String: Power

TENT:
	Inherits: ^Building
	Inherits@shape: ^2x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 2
		Prerequisites: ~structures.allies, ~!player.usa, ~techlevel.infonly
		Description: Trains and Heals Infantry units.\nDecomissions Infantry for 1/4 of cost.\nCan be Infiltrated by an Spy resulting\nin Veterancy for enemy Infantry.\nCan be Infiltrated by an Saboteur\nresulting in its Destruction.\n Special: Free Guards\nEach Barracks comes with two free Rifle Infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Allied Barracks
	Health:
		HP: 60000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	Capturable@ThfDemo:
		RequiresCondition: !build-incomplete
		Types: demolish-sabotage
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -42,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Infantry
	GrantExternalConditionToProduced:
		Condition: produced
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	ProvidesPrerequisite@barracks:
		Prerequisite: barracks
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Factions: allies, usa, england, holland, france, sweden, germany, spain, italy, greece, turkey
		Prerequisite: infantry.allies
	ProvidesPrerequisite@alliesvanilla:
		Factions: allies
		Prerequisite: infantry.alliesvanilla
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: infantry.usa
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: infantry.england
	ProvidesPrerequisite@holland:
		Factions: holland
		Prerequisite: infantry.holland
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: infantry.france
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: infantry.germany
	ProvidesPrerequisite@sweden:
		Factions: sweden
		Prerequisite: infantry.sweden
	ProvidesPrerequisite@spain:
		Factions: spain
		Prerequisite: infantry.spain
	ProvidesPrerequisite@italy:
		Factions: italy
		Prerequisite: infantry.italy
	ProvidesPrerequisite@greece:
		Factions: greece
		Prerequisite: infantry.greece
	ProvidesPrerequisite@turkey:
		Factions: turkey
		Prerequisite: infantry.turkey
	ProvidesPrerequisite@alliedstructure:
		RequiresPrerequisites: structures.allies
		Prerequisite: infantry.allies
	ProvidesPrerequisite@alliedvanillastructure:
		RequiresPrerequisites: structures.alliesvanilla
		Prerequisite: infantry.alliesvanilla
	ProvidesPrerequisite@usastructure:
		RequiresPrerequisites: structures.usa
		Prerequisite: infantry.usa
	ProvidesPrerequisite@englandstructure:
		RequiresPrerequisites: structures.england
		Prerequisite: infantry.england
	ProvidesPrerequisite@hollandstructure:
		RequiresPrerequisites: structures.holland
		Prerequisite: infantry.holland
	ProvidesPrerequisite@francestructure:
		RequiresPrerequisites: structures.france
		Prerequisite: infantry.france
	ProvidesPrerequisite@swedenstructure:
		RequiresPrerequisites: structures.sweden
		Prerequisite: infantry.sweden
	ProvidesPrerequisite@germanystructure:
		RequiresPrerequisites: structures.germany
		Prerequisite: infantry.germany
	ProvidesPrerequisite@spainstructure:
		RequiresPrerequisites: structures.spain
		Prerequisite: infantry.spain
	ProvidesPrerequisite@italystructure:
		RequiresPrerequisites: structures.italy
		Prerequisite: infantry.italy
	ProvidesPrerequisite@greecestructure:
		RequiresPrerequisites: structures.greece
		Prerequisite: infantry.greece
	ProvidesPrerequisite@turkeystructure:
		RequiresPrerequisites: structures.turkey
		Prerequisite: infantry.turkey
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	AcceptsDeliveredCash:
		ValidTypes: InfantryRefund, MoneyTransfer
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: tent.husk
		OwnerType: InternalName
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	FreeActor@1:
		Actor: E1
		SpawnOffset: 0,2
		Facing: 64
		RequiresCondition: !build-incomplete
	FreeActor@2:
		Actor: E1
		SpawnOffset: 1,2
		Facing: 64
		RequiresCondition: !build-incomplete
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidStances: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512

BARR:
	Inherits: ^Building
	Inherits@shape: ^2x2Shape	
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 490,-470,0, 355,512,0, -355,-512,0, -630,512,0
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 2
		Prerequisites: ~structures.soviet, ~techlevel.infonly
		Description: Trains and Heals Infantry units.\nDecomissions Infantry for 1/4 of cost.\nCan be Infiltrated by an Spy resulting\nin Veterancy for enemy Infantry.\nCan be Infiltrated by an Saboteur\nresulting in its Destruction.\n Special: Free Guards\nEach Barracks comes with two free Rifle Infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Soviet Barracks
	Health:
		HP: 60000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	Capturable@ThfDemo:
		RequiresCondition: !build-incomplete
		Types: demolish-sabotage
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -170,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Infantry
	GrantExternalConditionToProduced:
		Condition: produced
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	ProvidesPrerequisite:
		Prerequisite: barracks
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, moldova, belarus, karelia, kazakh, kyrgiz, uzbek, turkmen, afghan
		Prerequisite: infantry.soviet
	ProvidesPrerequisite@sovietvanilla:
		Factions: soviet
		Prerequisite: infantry.sovietvanilla
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: infantry.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: infantry.ukraine
	ProvidesPrerequisite@moldova:
		Factions: moldova
		Prerequisite: infantry.moldova
	ProvidesPrerequisite@belarus:
		Factions: belarus
		Prerequisite: infantry.belarus
	ProvidesPrerequisite@karelia:
		Factions: karelia
		Prerequisite: infantry.karelia
	ProvidesPrerequisite@kazakh:
		Factions: kazakh
		Prerequisite: infantry.kazakh
	ProvidesPrerequisite@kyrgiz:
		Factions: kyrgiz
		Prerequisite: infantry.kyrgiz
	ProvidesPrerequisite@uzbek:
		Factions: uzbek
		Prerequisite: infantry.uzbek
	ProvidesPrerequisite@turkmen:
		Factions: turkmen
		Prerequisite: infantry.turkmen
	ProvidesPrerequisite@afghan:
		Factions: afghan
		Prerequisite: infantry.afghan
	ProvidesPrerequisite@sovietstructure:
		RequiresPrerequisites: structures.soviet
		Prerequisite: infantry.soviet
	ProvidesPrerequisite@sovietvanillastructure:
		RequiresPrerequisites: structures.sovietvanilla
		Prerequisite: infantry.sovietvanilla
	ProvidesPrerequisite@russiastructure:
		RequiresPrerequisites: structures.russia
		Prerequisite: infantry.russia
	ProvidesPrerequisite@ukrainestructure:
		RequiresPrerequisites: structures.ukraine
		Prerequisite: infantry.ukraine
	ProvidesPrerequisite@moldovastructure:
		RequiresPrerequisites: structures.moldova
		Prerequisite: infantry.moldova
	ProvidesPrerequisite@belarusstructure:
		RequiresPrerequisites: structures.belarus
		Prerequisite: infantry.belarus
	ProvidesPrerequisite@kareliastructure:
		RequiresPrerequisites: structures.karelia
		Prerequisite: infantry.karelia
	ProvidesPrerequisite@kazakhstructure:
		RequiresPrerequisites: structures.kazakh
		Prerequisite: infantry.kazakh
	ProvidesPrerequisite@kyrgizstructure:
		RequiresPrerequisites: structures.kyrgiz
		Prerequisite: infantry.kyrgiz
	ProvidesPrerequisite@uzbekstructure:
		RequiresPrerequisites: structures.uzbek
		Prerequisite: infantry.uzbek
	ProvidesPrerequisite@turkmenstructure:
		RequiresPrerequisites: structures.turkmen
		Prerequisite: infantry.turkmen
	ProvidesPrerequisite@afghanstructure:
		RequiresPrerequisites: structures.afghan
		Prerequisite: infantry.afghan
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	AcceptsDeliveredCash:
		ValidTypes: InfantryRefund, MoneyTransfer
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: barr.husk
		OwnerType: InternalName
	FreeActor@1:
		Actor: E1
		SpawnOffset: 0,2
		Facing: 64
		RequiresCondition: !build-incomplete
	FreeActor@2:
		Actor: E1
		SpawnOffset: 1,2
		Facing: 64
		RequiresCondition: !build-incomplete
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidStances: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512

KENN:
	Inherits: ^Building
	Inherits@RUMOD: ^AffectedByRussia
	-GivesBuildableArea:
	-SpawnActorsOnSell:
	-Capturable:
	-Capturable@2:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	Selectable:
		Bounds: 24,24
	Buildable:
		Queue: Building
		BuildPaletteOrder: 11
		Prerequisites: ~disabled
		Description: Trains Attack Dogs.
	Valued:
		Cost: 200
	Tooltip:
		Name: Kennel
	Health:
		HP: 30000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
		HasMinibib: True
	ProvidesPrerequisite@buildingname:
	RallyPoint:
	Exit@0:
		SpawnOffset: -280,400,0
		ExitCell: -1,1
		ProductionTypes: Dog, Infantry
		Priority: 3
	Exit@1:
		SpawnOffset: -280,400,0
		ExitCell: 0,1
		ProductionTypes: Dog, Infantry
		Priority: 2
	Exit@2:
		SpawnOffset: -280,400,0
		ExitCell: -1,0
		ProductionTypes: Dog, Infantry
		Priority: 2
	Exit@fallback1:
		SpawnOffset: -280,400,0
		ExitCell: -1,-1
		ProductionTypes: Dog, Infantry
	Exit@fallback2:
		SpawnOffset: -280,400,0
		ExitCell: 0,-1
		ProductionTypes: Dog, Infantry
	Exit@fallback3:
		SpawnOffset: -280,400,0
		ExitCell: 1,-1
		ProductionTypes: Dog, Infantry
	Exit@fallback4:
		SpawnOffset: -280,400,0
		ExitCell: 1,0
		ProductionTypes: Dog, Infantry
	Exit@fallback5:
		SpawnOffset: -280,400,0
		ExitCell: 1,1
		ProductionTypes: Dog, Infantry
	Production:
		Produces: Infantry, Dog
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Infantry
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	Power:
		Amount: -10
		RequiresCondition: !build-incomplete
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: kenn.husk
		OwnerType: InternalName
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished

PROC:
	Inherits: ^Building
	Inherits@AI: ^IncomeAIBoost
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: idle
		SequencePalette: placebuilding
	SelectionDecorations:
	Selectable:
		Bounds: 72,45,0,-14
		DecorationBounds: 72,77,0,-15
	Building:
		Footprint: =Xx x+= ===
		Dimensions: 3,3
		LocalCenterOffset: 0,0,0
	HitShape:
		TargetableOffsets: 0,0,0, 1080,0,0, 720,-630,0, 1400,1152,0, 1720,630,0, -560,1152,0, -800,630,0, -560,-1152,0, -800,-630,0
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1036
	Buildable:
		Queue: Building
		BuildPaletteOrder: 4
		Prerequisites: ~!structures.gdi, ~!structures.nod, ~techlevel.infonly
		Description: Refines Ore and Gems\ninto credits.\nCan be Infiltrated resulting in 50% loss of credits stored.\n Special: Free Harvester\nEach Refinery comes with one free Ore Truck.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Ore Refinery
	Health:
		HP: 100000
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, ThiefInfiltrate, SpyInfiltrate, NodInfiltrate
	InfiltrateForCash:
		Percentage: 50
		Types: ThiefInfiltrate, SpyInfiltrate, NodInfiltrate
		Notification: CreditsStolen
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	ProvidesPrerequisite@buildingname:
	Refinery:
		DockAngle: 64
		DockOffset: 1,1
		DiscardExcessResources: true
	StoresResources:
		PipCount: 17
		Capacity: 2000
	ResourcePurifier@incomeplayerboost:
		Modifier: 20
		RequiresCondition: ore-purifier-on
		ShowTicks: False
	GrantConditionOnPrerequisite@incomeplayerboost:
		Condition: ore-purifier-on
		Prerequisites: oprf
	GrantConditionOnPlayerResources:
		Condition: contains-resources
	ExternalCondition@DOCKED:
		Condition: dockinprocess
	ProximityExternalCondition@DOCKED:
		Condition: docked
		Range: 1c0
		ValidStances: Ally
	DrawLineToTarget:
	CustomSellValue:
		Value: 300
	Sellable:
		RefundPercent: 100
		RequiresCondition: !build-incomplete && !being-captured && !being-demolished && !dockinprocess
	WithBuildingBib:
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: topsolid
	WithIdleOverlay@SMOKE:
		RequiresCondition: !build-incomplete || disabled
		Sequence: idle-smoke
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	Explodes:
		Type: Footprint
		Weapon: BuildingExplodeRef
		EmptyWeapon: BuildingExplodeRef
	Explodes@RESOURCES:
		RequiresCondition: contains-resources
		Weapon: OreExplosion
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: proc.husk
		OwnerType: InternalName
	RenderSprites:
		Image: ercc-proc
	FreeActor@1:
		Actor: HARV.crate
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && allied.player
	FreeActor@2:
		Actor: HARV.soviet.crate
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && soviet.player
	GrantConditionOnFaction@soviet:
		Condition: soviet.player
		Factions: soviet,russia,ukraine,moldova,belarus,karelia,kazakh,uzbek,turkmen,afghan
		ResetOnOwnerChange: True
	GrantConditionOnFaction@allies:
		Condition: allied.player
		Factions: allies,usa,england,holland,france,germany,spain,italy,greece,turkey
		ResetOnOwnerChange: True

SILO:
	Inherits: ^Building
	-SpawnActorsOnSell:
	-GivesBuildableArea:
	-MustBeDestroyed:
	-WithSpriteBody:
	Selectable:
		Bounds: 24,24
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 3
		Prerequisites: proc, ~!structures.gdi, ~!structures.nod, ~techlevel.infonly
		Description: Stores excess refined Ore and Gems.\nThe stored resources are secured against Theft.\nSpecial: Periodic Income\nPeriodically generates minor income\naslong not low on power.
	Valued:
		Cost: 150
	Tooltip:
		Name: Ore Silo
	Health:
		HP: 30000
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, ThiefInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		PipCount: 5
		Capacity: 3000
	GrantConditionOnPlayerResources:
		Condition: contains-resources
	CashTrickler@Normal:
		Interval: 600
		InitialDelay: 600
		Amount: 30
		PauseOnCondition: lowpower || disabled
		RequiresCondition: !is.holland
	CashTrickler@Faster:
		Interval: 400
		InitialDelay: 400
		Amount: 30
		PauseOnCondition: lowpower || disabled
		RequiresCondition: is.holland
	CashTricklerBar:
	GrantConditionOnPrerequisite@Faster:
		Condition: is.holland
		Prerequisites: player.holland
	Power:
		Amount: -10
		RequiresCondition: !build-incomplete
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	SpawnActorOnDeath:
		Actor: silo.husk
		OwnerType: InternalName
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	Explodes@RESOURCES:
		RequiresCondition: contains-resources
		Weapon: OreExplosion

OPRF:
	Inherits: ^ScienceBuilding
	Inherits@shape: ^3x2Shape
	Selectable:
		Bounds: 72,56
		DecorationBounds: 73,72
	HitShape:
		TargetableOffsets: 420,-768,0, 420,768,0, -770,-768,0, -770,768,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 16
		BuildLimit: 1
		Prerequisites: techcenter, proc, ~structures.allies, ~techlevel.high
		Description: Refines Ore, Scrap and Gems\nincreasing your income by 20%\nMaximum 1 can be built.\nRequires Power to operate.
	Valued:
		Cost: 2500
	Tooltip:
		Name: Ore Purifier
	ProvidesPrerequisite@OREPURIFIER:
		Prerequisite: oprf
		RequiresCondition: disabled || empdisable
	Building:
		Footprint: XxX XxX
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -150
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	RenderSprites:
		Image: rresf

WEAP:
	Inherits: ^Building
	Inherits@shape: ^3x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	Inherits@IDISABLE: ^DisableOnPowerDown
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 5
		Prerequisites: anypower, ~!player.usa, ~!structures.gdi, ~!structures.nod, ~techlevel.low
		Description: Produces Vehicle units.\nCan be Infiltrated by an Spy resulting\nin Veterancy for enemy Vehicles.\nCan be Infiltrated by an Saboteur\nresulting in its destruction.
	Valued:
		Cost: 2000
	Tooltip:
		Name: War Factory
	Health:
		HP: 120000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	Capturable@ThfDemo:
		RequiresCondition: !build-incomplete
		Types: demolish-sabotage
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	WithProductionDoorOverlay:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 213,-128,0
		ExitCell: 1,2
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 213,-128,0
		ExitCell: 0,2
	Production:
		Produces: Vehicle
		PauseOnCondition: disabled || build-incomplete
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Vehicle
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Factions: allies, usa, england, holland, france, sweden, germany, spain, italy, greece, turkey
		Prerequisite: vehicles.allies
	ProvidesPrerequisite@alliesvanilla:
		Factions: allies
		Prerequisite: vehicles.alliesvanilla
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: vehicles.usa
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: vehicles.england
	ProvidesPrerequisite@holland:
		Factions: holland
		Prerequisite: vehicles.holland
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: vehicles.france
	ProvidesPrerequisite@sweden:
		Factions: sweden
		Prerequisite: vehicles.sweden
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: vehicles.germany
	ProvidesPrerequisite@spain:
		Factions: spain
		Prerequisite: vehicles.spain
	ProvidesPrerequisite@italy:
		Factions: italy
		Prerequisite: vehicles.italy
	ProvidesPrerequisite@greece:
		Factions: greece
		Prerequisite: vehicles.greece
	ProvidesPrerequisite@turkey:
		Factions: turkey
		Prerequisite: vehicles.turkey
	ProvidesPrerequisite@alliedstructure:
		RequiresPrerequisites: structures.allies
		Prerequisite: vehicles.allies
	ProvidesPrerequisite@alliedvanillastructure:
		RequiresPrerequisites: structures.alliesvanilla
		Prerequisite: vehicles.alliesvanilla
	ProvidesPrerequisite@usastructure:
		RequiresPrerequisites: structures.usa
		Prerequisite: vehicles.usa
	ProvidesPrerequisite@englandstructure:
		RequiresPrerequisites: structures.england
		Prerequisite: vehicles.england
	ProvidesPrerequisite@hollandstructure:
		RequiresPrerequisites: structures.holland
		Prerequisite: vehicles.holland
	ProvidesPrerequisite@francestructure:
		RequiresPrerequisites: structures.france
		Prerequisite: vehicles.france
	ProvidesPrerequisite@germanystructure:
		RequiresPrerequisites: structures.germany
		Prerequisite: vehicles.germany		
	ProvidesPrerequisite@spainstructure:
		RequiresPrerequisites: structures.spain
		Prerequisite: vehicles.spain
	ProvidesPrerequisite@italystructure:
		RequiresPrerequisites: structures.italy
		Prerequisite: vehicles.italy
	ProvidesPrerequisite@greecestructure:
		RequiresPrerequisites: structures.greece
		Prerequisite: vehicles.greece
	ProvidesPrerequisite@turkeystructure:
		RequiresPrerequisites: structures.turkey
		Prerequisite: vehicles.turkey
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, moldova, belarus, karelia, kazakh, kyrgiz, uzbek, turkmen, afghan
		Prerequisite: vehicles.soviet
	ProvidesPrerequisite@sovietvanilla:
		Factions: soviet
		Prerequisite: vehicles.sovietvanilla
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: vehicles.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: vehicles.ukraine
	ProvidesPrerequisite@moldova:
		Factions: moldova
		Prerequisite: vehicles.moldova
	ProvidesPrerequisite@belarus:
		Factions: belarus
		Prerequisite: vehicles.belarus
	ProvidesPrerequisite@karelia:
		Factions: karelia
		Prerequisite: vehicles.karelia
	ProvidesPrerequisite@kazakh:
		Factions: kazakh
		Prerequisite: vehicles.kazakh
	ProvidesPrerequisite@kyrgiz:
		Factions: kyrgiz
		Prerequisite: vehicles.kyrgiz
	ProvidesPrerequisite@uzbek:
		Factions: uzbek
		Prerequisite: vehicles.uzbek
	ProvidesPrerequisite@turkmen:
		Factions: turkmen
		Prerequisite: vehicles.turkmen
	ProvidesPrerequisite@afghan:
		Factions: afghan
		Prerequisite: vehicles.afghan
	ProvidesPrerequisite@sovietstructure:
		RequiresPrerequisites: structures.soviet
		Prerequisite: vehicles.soviet
	ProvidesPrerequisite@sovietvanillastructure:
		RequiresPrerequisites: structures.sovietvanilla
		Prerequisite: vehicles.sovietvanilla
	ProvidesPrerequisite@russiastructure:
		RequiresPrerequisites: structures.russia
		Prerequisite: vehicles.russia
	ProvidesPrerequisite@ukrainestructure:
		RequiresPrerequisites: structures.ukraine
		Prerequisite: vehicles.ukraine
	ProvidesPrerequisite@moldovastructure:
		RequiresPrerequisites: structures.moldova
		Prerequisite: vehicles.moldova
	ProvidesPrerequisite@belarusstructure:
		RequiresPrerequisites: structures.belarus
		Prerequisite: vehicles.belarus
	ProvidesPrerequisite@kareliastructure:
		RequiresPrerequisites: structures.karelia
		Prerequisite: vehicles.karelia
	ProvidesPrerequisite@kazakhstructure:
		RequiresPrerequisites: structures.kazakh
		Prerequisite: vehicles.kazakh
	ProvidesPrerequisite@kyrgizstructure:
		RequiresPrerequisites: structures.kyrgiz
		Prerequisite: vehicles.kyrgiz
	ProvidesPrerequisite@uzbekstructure:
		RequiresPrerequisites: structures.uzbek
		Prerequisite: vehicles.uzbek
	ProvidesPrerequisite@turkmenstructure:
		RequiresPrerequisites: structures.turkmen
		Prerequisite: vehicles.turkmen
	ProvidesPrerequisite@afghanstructure:
		RequiresPrerequisites: structures.afghan
		Prerequisite: vehicles.afghan
	ProvidesPrerequisite@TECHPREQ:
		Prerequisite: afldorweap
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	InfiltrateForSupportPower:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: weap.husk
		OwnerType: InternalName	
	GrantConditionOnPrerequisite@MAINTENANCE:
		Condition: maintenance
		Prerequisites: maintenance
	GrantCondition@IDISABLE:
		RequiresCondition: powerdown || maintenance
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSound: EnablePower
		EnabledSound: DisablePower
		Condition: powerdown
		OrderName: PowerDown
		RequiresCondition: !maintenance
	GrantConditionOnPrerequisite@MAINTENANCE:
		Condition: maintenance
		Prerequisites: maintenance

FIX:
	Inherits: ^Building
	Inherits@RUMOD: ^AffectedByRussia
	Inherits@IDISABLE: ^DisableOnPowerDown
	SelectionDecorations:
	Selectable:
		Bounds: 68,34,0,3
		DecorationBounds: 72,48
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	Building:
		Footprint: =+= +++ =+=
		Dimensions: 3,3
	Buildable:
		Queue: Building
		BuildPaletteOrder: 8
		Prerequisites: weap, ~!structures.gdi, ~!structures.nod, ~techlevel.medium
		Description: Repairs Vehicles for credits.\nVehicle and Aircraft can\nbe sold here for half value.\n (their value scaling with health)\n  Special ability: Field Repairs\nAffected vehicles self-repair for 1% of their\nmaximum health per second for 15 second duration.
	Valued:
		Cost: 800
	Tooltip:
		Name: Service Depot
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	ProvidesPrerequisite@buildingname:
	RepairsUnits:
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		PauseOnCondition: disabled || build-incomplete
	Reservable:
	RallyPoint:
	AcceptsDeliveredCash:
		ValidTypes: AircraftRefund
	ExternalCondition@Docked:
		Condition: unit.docked
	ProximityExternalCondition:
		Condition: unit.sellable
		Range: 1c0
	WithBuildingBib:
		HasMinibib: true
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: fix.husk
		OwnerType: InternalName
	Sellable:
		RequiresCondition: !unit.docked && !build-incomplete && !being-captured && !being-demolished
	GrantExternalConditionPower@FieldRepairs:
		PauseOnCondition: disabled || lowpower
		OrderName: FieldRepairPower
		Prerequisites: ~global-fieldrepairs, techlevel.unrestricted
		Icon: fieldrepair
		ChargeInterval: 6000
		Range: 1
		Duration: 375
		Description: Field Repairs
		LongDesc: Affected vehicles self-repair for 1% of their\nmaximum health per second for 15 second duration.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		Condition: fieldrepair
		Cursor: goldwrench
		Sequence: none
		SupportPowerPaletteOrder: 5
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	SupportPowerChargeBar:
	GpsDot:
		String: Repair

INDP:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^3x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	Selectable:
		Bounds: 72,56
		DecorationBounds: 73,72
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 14
		BuildLimit: 1
		Prerequisites: techcenter, afldorweap, ~structures.soviet, ~techlevel.high
		Description: Industrial production facility.\nReduces cost of Vehicle, Ship and Aircraft by 20%\nand increases production speed by 10%\nMaximum one can be built.\nRequires Power to operate.\n  Special Ability: Maintenance\nInstantly gives 3000$ but disables all War Factories for 1.5 minute.\n (requires Construction Yard)
	Valued:
		Cost: 2500
	Tooltip:
		Name: Industrial Plant
	Building:
		Footprint: XxX XxX
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@disabled:
		Prerequisite: indplowpower
		RequiresCondition: disabled || empdisable
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	WithSpriteBody:
		PauseOnCondition: disabled
	RenderSprites:
		Image: indp

DOME:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-384,0, 630,384,0, -700,-512,0, -700,512,0
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 6
		Prerequisites: proc, ~structures.allies, ~techlevel.medium
		Description: Provides an overview\nof the battlefield.\nCan detect cloaked units.\nCan be Infiltrated resulting in loss of map exploration.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Radar Dome
	Health:
		HP: 80000
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate, ThiefInfiltrate, NodInfiltrate, Radar
	InfiltrateForExploration:
		Types: SpyInfiltrate, ThiefInfiltrate
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@LOCALRADAR:
		Prerequisite: activedome
		RequiresCondition: !jammed && !disabled && !build-incomplete
	ProvidesPrerequisite@GLOBALJAM:
		Prerequisite: isbeingjammed
		RequiresCondition:	jammed
	RevealsShroud:
		MinRange: 6c0
		Range: 10c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 3c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 6c0
		RequiresCondition: !disabled
	WithBuildingBib:
	ExternalCondition@JAMMED:
		Condition: jammed
	DetectCloaked:
		Range: 6c0
		RequiresCondition: !disabled
	RenderDetectionCircle:
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: dome.husk
		OwnerType: InternalName
	DetectCloakedMultiplier@ENGLANDBONUS:
		Modifier: 150
		RequiresCondition: england.player
	RevealsShroudMultiplier@ENGLANDBONUS:
		Modifier: 150
		RequiresCondition: england.player
	ProductionCostMultiplier@ENGLANDBONUS:
		Multiplier: 120
		Prerequisites: player.england
	GrantConditionOnFaction@ENGLANDBONUS:
		Condition: england.player
		Factions: england
		ResetOnOwnerChange: True

DOME.Soviet:
	Inherits: DOME
	Inherits@RUMOD: ^AffectedByRussia
	Buildable:
		Prerequisites: proc, ~structures.soviet, ~techlevel.medium
		Description: Provides an overview\nof the battlefield.\nCan detect cloaked units.\nCan be Infiltrated by an Spy, Saboteur or Infiltrator\nresulting in loss of map exploration.\nCan detect cloaked units.\n  Special Ability: Spy Plane\nReveals an area of the map\nand cloaked enemy units there.\n (requires Airfield)
	RenderSprites:
		Image: dome
	ProvidesPrerequisite@COPY:
		Prerequisite: dome
	AirstrikePower@Spyplane:
		PauseOnCondition: lowpower
		OrderName: SovietSpyPlane
		Prerequisites: ~afld
		Icon: spyplane
		ChargeInterval: 3750
		Description: Spy Plane
		LongDesc: Reveals an area of the map\nand cloaked enemy units.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		CameraActor: camera.spyplane
		CameraRemoveDelay: 150
		UnitType: u2
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: camicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: chrono-select
		SupportPowerPaletteOrder: 6
	AirstrikePower@SpyplaneExtra:
		PauseOnCondition: lowpower
		OrderName: SovietSpyPlaneExtra
		Prerequisites: afld, ~stek, player.karelia
		Icon: spyplane
		ChargeInterval: 3750
		Description: Spy Plane (x2)
		LongDesc: Reveals an area of the map\nand cloaked enemy units.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		CameraActor: camera.spyplane
		CameraRemoveDelay: 150
		UnitType: u2
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: camicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: chrono-select
		SupportPowerPaletteOrder: 6
		StartFullyCharged: true
	SupportPowerChargeBar:
	-MapEditorData:

#	disabling as not every Allies gets 
#	Spy in this iteration. Is meant to
#	act as counterpart to rank-up
#	Infiltrates of allied Spy.
FCOM.Soviet:
	Inherits: ^Building
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	SelectionDecorations:
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Wood
	Tooltip:
		Name: Command Post
	Buildable:
		Queue: Building
		BuildPaletteOrder: 15
		#	Prerequisites: stek, dome, ~structures.soviet, ~techlevel.high
		Prerequisites: ~disabled
		BuildLimit: 1
		Description: Enables all units to earn Veterancy 20% faster.\n  Special Ability: Field Promotion\nA Badger drops an Rank-up crate anywhere on the map.\nUnits can pick it up to gain one free level of veterancy.\n (requires Airfield)
	RevealsShroud:
		Range: 3c0
	WithBuildingBib:
	Power:
		Amount: -80
	ProvidesPrerequisite@buildingname:
	Valued:
		Cost: 1200
	ParatroopersPower@FieldPromotion:
		PauseOnCondition: lowpower
		OrderName: FieldPromotion
		Prerequisites: ~afld, every.soviet
		Icon: rankcrate
		ChargeInterval: 7500
		Description: Field Promotion
		LongDesc: A Badger drops an Rank-up crate anywhere on the map.\nUnits can pick it up to gain one free level of veterancy.
		DropItems: RANKUPCRATE
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: badr.crate
		DisplayBeacon: true
		BeaconPoster: rankcrate
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		SupportPowerPaletteOrder: 10
	SupportPowerChargeBar:
	#	Production:
	#	Produces: Infantry, Soldier
	#	PauseOnCondition: disabled
	#	RequiresCondition: conscription
	#	ClonesProducedUnits:
	#	CloneableTypes: Soldier
	#	ProductionType: Infantry
	#	RequiresCondition: conscription && !disabled
	#	GrantConditionOnPrerequisite@CONSCRIPTION:
	#	Prerequisites: conscription
	#	Condition: conscription
	#	WithDecoration@CONSCRIPTION:
	#	RequiresSelection: true
	#	Image: pips
	#	Sequence: tag-cloner
	#	ReferencePoint: Top
	#	ZOffset: 256
	#	RequiresCondition: conscription
	#	RallyPoint:
	#	Exit@1:
	#	RequiresCondition: !being-captured
	#	SpawnOffset: -170,810,0
	#	ExitCell: 1,2
	#	ProductionTypes: Soldier, Infantry
	#	Exit@2:
	#	RequiresCondition: !being-captured
	#	SpawnOffset: -725,640,0
	#	ExitCell: 0,2
	#	ProductionTypes: Soldier, Infantry
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: fcom.buildable.husk
		OwnerType: InternalName
	RenderSprites:
		Image: fcom

ATEK:
	Inherits: ^ScienceBuilding
	#	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 72,48
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
		TargetableOffsets: 420,-768,0, 420,768,0, -770,-768,0, -770,768,0
	Building:
		Footprint: XxX XxX
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 12
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.allies, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated for unlocking Tech unit production.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Allied Tech Center
	Health:
		HP: 80000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate, ThiefInfiltrate, NodInfiltrate
	InfiltrateForSupportPower:
		Proxy: tech.stolen
		Types: SpyInfiltrate, ThiefInfiltrate, NodInfiltrate
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: techcenter
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -100
		RequiresCondition: !build-incomplete
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: ateknew.husk
		OwnerType: InternalName
	Sellable:
		RequiresCondition: !build-incomplete && !being-captured && !being-demolished && !disabled
	AirstrikePower@AmericanParabombs:
		PauseOnCondition: disabled || lowpower
		OrderName: AmericanParabombs
		Prerequisites: ~afld, player.usa
		Icon: stlthbombs
		ChargeInterval: 7500
		Description: Stealth Parabombs
		LongDesc: A cloaked B-2 drops parachuted bombs on your target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: b2.bomber
		QuantizedFacings: 8
		SquadSize: 1
		SquadOffset: 1792,1792,0
		DisplayBeacon: true
		BeaconPoster: uspb
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airstrike
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 2		
	ParatroopersPower@SpyParadrop:
		PauseOnCondition: disabled || lowpower
		OrderName: SpyParadrop
		Prerequisites: ~afld, player.england
		Icon: paraspy
		ChargeInterval: 9000
		Description: Intel Paradrop
		LongDesc: A B-52 drops an Veteran Spy anywhere on the map.
		DropItems: spy.england
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: b52
		DisplayBeacon: true
		BeaconPoster: paraspy
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	GrantExternalConditionPower@TechInhibitor:
		PauseOnCondition: disabled || lowpower
		OrderName: TechInhibitor
		Prerequisites: player.holland
		Icon: delphi
		ChargeInterval: 12000
		Range: 0
		Duration: 4500
		Description: Tech Inhibitor
		LongDesc: Target your enemy's Tech Center to shut it down for 3 minutes duration.\nThe opponent will not able to create most advanced arsenal while it lasts.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		Condition: techdisable
		Cursor: gps-target
		Sequence: none
		SupportPowerPaletteOrder: 4
		ValidStances: Enemy
	ProduceActorPower@DecoyArmy:
		PauseOnCondition: disabled || lowpower
		OrderName: DecoyArmy
		Prerequisites: ~weap, player.france
		Actors: 1tnf, 1tnf, 2tnf, 2tnf, artf
		ChargeInterval: 6000
		Icon: decoyarmy
		Description: Decoy Army
		LongDesc: Delivers an group of Fake units at your primary War Factory\nThose remote-controlled units armed with dummy weaponry\nwill look identical to real units for the opponent.
		Type: Vehicle
		ReadyAudio: ReinforcementsArrived
		BlockedAudio: NoBuild
		SupportPowerPaletteOrder: 4
	ParatroopersPower@ListeningPost:
		PauseOnCondition: disabled
		OrderName: AlliesLP
		Prerequisites: ~dome, player.sweden
		Icon: lpsummon
		ChargeInterval: 4500
		Description: Listening Post
		LongDesc: Deploys a Spy Mast anywhere on the map.\nProvides vision and detects cloaked units nearby.\nIt can be disguised to appear as an Tree to the enemy.
		DropItems: spmst.summon
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.minimum
		UnitType: badr.summoner
		DisplayBeacon: true
		BeaconPoster: sonrbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: generic-target
		SupportPowerPaletteOrder: 4
	ParatroopersPower@AlliedParaTanks:
		PauseOnCondition: disabled || lowpower
		OrderName: AlliedParaTanks
		Prerequisites: ~afld, player.germany
		Icon: paratanks
		ChargeInterval: 7500
		Description: Paratanks
		LongDesc: A B-52 drops an Veteran squad of two Light\nand a Medium Tank anywhere on the map.\nThose tanks are standard pattern.
		DropItems: 1TNK.R1, 2TNK.R1, 1TNK.R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: b52
		DisplayBeacon: true
		BeaconPoster: paratanks
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	ParatroopersPower@ParaJeeps:
		PauseOnCondition: disabled || lowpower
		OrderName: AlliedParaScouts
		Prerequisites: ~afld, player.spain
		Icon: parajeep
		ChargeInterval: 3750
		Description: Parascouts
		LongDesc: A B-52 drops 2 Jeeps anywhere on the map.
		DropItems: jeep, jeep
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: b52
		DisplayBeacon: true
		BeaconPoster: jeepbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	ParatroopersPower@ChronoBomb:
		PauseOnCondition: disabled || lowpower
		OrderName: ChronoBomb
		Prerequisites: player.italy
		Icon: mincicon
		ChargeInterval: 7500
		Description: Chrono Bomb
		LongDesc: Chronoshifts a Bomb Crate to desired position.\nThe bomb detonates after 30 seconds or when picked up.
		DropItems: bombcrate
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.minimum
		UnitType: badr.summoner
		BeaconPoster: dtrkbcon
		DisplayBeacon: true
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 4
	ParatroopersPower@InstantBunker:
		PauseOnCondition: disabled || lowpower
		OrderName: InstantBunker
		Prerequisites: ~structures.allies, player.greece
		Icon: pboxicon
		ChargeInterval: 7500
		Description: Instant Bunker
		LongDesc: An empty Pillbox gets instantly constructed on the spot\nchecking Terrain of build spot.
		DropItems: pbox.summon
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.minimum
		UnitType: badr.summoner
		DisplayBeacon: true
		BeaconPoster: pboxbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: generic-target
		SupportPowerPaletteOrder: 2
	AirstrikePower@AlliedParanuke:
		PauseOnCondition: disabled || lowpower
		OrderName: AlliedParanuke
		Prerequisites: ~afld, player.turkey
		Icon: paranuke
		ChargeInterval: 9000
		SquadSize: 1
		QuantizedFacings: 8
		Description: Paranuke
		LongDesc: A fast plane drops an Paranuke on your target.\nThe warhead is an low yield nuclear detonation,\nthat is more effective against units rather than structures.
		SelectTargetSpeechNotification: SelectTarget
		UnitType: u2.nuke
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPoster: airstrike
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airstrike
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	SupportPowerChargeBar:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled
		Palette: disabled
	GrantCondition@IDISABLE:
		RequiresCondition: techdisable
		Condition: disabled
	ExternalCondition@TECHDISABLE:
		Condition: techdisable
	RenderSprites:
		Image: ateknew
	GpsDot:
		String: Tech

ATEK.Usa:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.usa, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Stealth Parabombs\nA cloaked B-2 Bomber drops parachuted bombs on your target.
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.England:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.england, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Intel Drop\nA B-52 drops an Veteran Spy anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Holland:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.holland, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Tech Inhibitor\nTarget your enemy's Tech Center to shut it down for 3 minutes duration.\nThe opponent will not able to create most advanced arsenal while it lasts.
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.France:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.france, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Decoy Army\nDelivers an group of Fake units at your primary War Factory\nThose remote-controlled units armed with dummy weaponry\nwill look identical to real units for the opponent.\n (requires War Factory)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Sweden:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.sweden, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Listening Post\nDeploys an Spy Mast anywhere on the map.\nThe Spy Mast provides vision and detects cloaked units in sight-radius.\nThe Spy Mast can disguise to appear as an Tree to the enemy.\n (requires Radar Dome)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Germany:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.germany, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Paratanks\nA B-52 drops an Veteran squad of two Light\nand a Medium Tank anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Spain:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.spain, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Parascouts\nA B-52 drops 2 Jeeps anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Italy:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.italy, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Chrono Bomb\nChronoshifts a Bomb Crate to desired position.\nThe bomb detonates after 30 seconds or when picked up.
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Greece:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.greece, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Instant Bunker\nAn empty Pillbox gets instantly constructed on the spot\nchecking Terrain of build spot. (requires Construction Yard)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

ATEK.Turkey:
	Inherits: ATEK
	Buildable:
		BuildLimit: 1
		Prerequisites: proc, afldorweap, ~structures.allies, ~player.turkey, ~techlevel.high
		Description: Provides Allied advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Paranuke\nA fast plane drops an Paranuke on your target.\nThe warhead is an low yield nuclear detonation,\nthat is more effective against units rather than structures. (requires Airfield)
	RenderSprites:
		Image: ateknew
	ProvidesPrerequisite@COPY:
		Prerequisite: atek
	-MapEditorData:

STEK:
	Inherits: ^ScienceBuilding
	Inherits@shape: ^3x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	Selectable:
		Bounds: 72,48
	HitShape:
		TargetableOffsets: 420,-768,0, 420,768,0, -770,-768,0, -770,768,0
	Building:
		Footprint: XxX XxX
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 12
		BuildLimit: 1
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated for unlocking Tech unit production.\n  Special Ability: Parabombs\nA squad of Badgers drop parachuted\nbombs on your target.
		Prerequisites: proc, afldorweap, ~structures.soviet, ~player.soviet, ~techlevel.high
	Valued:
		Cost: 2000
	Tooltip:
		Name: Soviet Tech Center
	Health:
		HP: 80000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -100
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:		
	ProvidesPrerequisite:
		Prerequisite: techcenter
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: stek.husk
		OwnerType: InternalName
	Sellable:
		RequiresCondition: !build-incomplete && !being-captured && !being-demolished && !disabled
	InfiltrateForSupportPower:
		Proxy: tech.stolen
		Types: SpyInfiltrate, ThiefInfiltrate, NodInfiltrate
	AirstrikePower@Parabombs:
		PauseOnCondition: disabled || lowpower
		OrderName: SovietParabombs
		Prerequisites: ~afld, player.soviet
		Icon: parabombs
		ChargeInterval: 7500
		Description: Parabombs
		LongDesc: A squad of Badgers drop parachuted\nbombs on your target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: badr.bomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: pbmbicon
		SquadSize: 3
		SquadOffset: 1792,1792,0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airstrike
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	ParatroopersPower@ShockParadrop:
		PauseOnCondition: disabled || lowpower
		OrderName: ShockParadrop
		Prerequisites: ~afld, player.russia
		Icon: parashok
		ChargeInterval: 9000
		Description: Storm Troopers
		LongDesc: A Badger drops three Veteran Shock Troopers anywhere on the map.
		DropItems: shokr1, shokr1, shokr1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: parashok
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	ParatroopersPower@GrenParadrop:
		PauseOnCondition: disabled || lowpower
		OrderName: GrenParadrop
		Prerequisites: ~afld, player.ukraine
		Icon: paragren
		ChargeInterval: 9000
		Description: Paragrenadiers
		LongDesc: A Badger drops four Grenadiers anywhere on the map.
		DropItems: E2R1,E2R1,E2R1,E2R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: paragren
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	ParatroopersPower@ParaMines:
		PauseOnCondition: disabled || lowpower
		OrderName: SovietParaMines
		Prerequisites: ~afld, player.moldova
		Icon: paramines
		ChargeInterval: 9000
		Description: Paramines
		LongDesc: A Badger drops one Minelayer anywhere on the map.
		DropItems: MNLY
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: paramines
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	AirstrikePower@EMPBomb:
		PauseOnCondition: disabled || lowpower
		OrderName: SovietEMPBomb
		Prerequisites: ~afld, player.belarus
		Icon: empbomb
		ChargeInterval: 7500
		SquadSize: 1
		QuantizedFacings: 8
		Description: EMP Bomb
		LongDesc: A fast plane drops an EMP Bomb on your target,\nthat disables Vehicles, Buildings and Ships.\nDisabled units cannot move or shoot for a while.\nUncloaks hidden units, Submarines will resurface.
		SelectTargetSpeechNotification: SelectTarget
		UnitType: smig.emp
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPoster: empbomb
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: empstrike
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	AirstrikePower@V2Strike:
		PauseOnCondition: disabled || lowpower
		OrderName: V2Strike
		Prerequisites: ~afld, player.karelia, ~techlevel.unrestricted
		Icon: v2bdgricon
		ChargeInterval: 9000
		Description: V2 Missile Strike
		LongDesc: A Badger fires three V2 rockets on your target.
		SquadSize: 1
		QuantizedFacings: 8
		SelectTargetSpeechNotification: SelectTarget
		UnitType: badr.cruiser
		CameraActor: camera.paradrop
		DisplayBeacon: True
		BeaconPoster: v2bdgrbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airstrike
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@JammerPlane:
		PauseOnCondition: disabled || lowpower
		OrderName: JammerPlane
		Prerequisites: ~afld, player.kazakh, ~techlevel.unrestricted
		Icon: u2jamicon
		ChargeInterval: 7500
		Description: Jammer Plane
		LongDesc: An plane traveling in a line across the map\nthat jams enemy radar within radius.
		SelectTargetSpeechNotification: SelectTarget
		UnitType: smig.jam
		QuantizedFacings: 32
		DisplayBeacon: true
		BeaconPoster: camicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		Cursor: grid-target
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	ProduceActorPower@SovietReserves:
		PauseOnCondition: disabled || lowpower
		OrderName: SovietReserves
		Prerequisites: ~weap, player.kyrgiz
		Actors: 1tnk.soviet, ftrk.scout, 1tnk.soviet
		ChargeInterval: 3000
		Icon: scouts
		Description: Reserves
		LongDesc: Delivers an group of two Scout Tanks and\none Scout Car at your primary War Factory.
		Type: Vehicle
		ReadyAudio: ReinforcementsArrived
		BlockedAudio: NoBuild
		SupportPowerPaletteOrder: 4
	ParatroopersPower@LoneTower:
		PauseOnCondition: disabled || lowpower
		OrderName: SovietLoneTower
		Prerequisites: ~structures.soviet, player.uzbek
		Icon: fturicon
		ChargeInterval: 7500
		Description: Lone Tower
		LongDesc: A Flame Turret gets instantly constructed on the spot\nchecking against Terrain of build spot.\nThis Flame Turret remains cloaked when out of combat.
		DropItems: ftur.summon
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.minimum
		UnitType: badr.summoner
		DisplayBeacon: true
		BeaconPoster: fturbcon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 4
		Cursor: generic-target
	GrantExternalConditionPower@ECOSABOTAGE:
		PauseOnCondition: disabled || lowpower
		OrderName: EcoSabotage
		Prerequisites: player.turkmen
		Icon: oilburn
		ChargeInterval: 6000
		Range: 1
		Duration: 1500
		Description: Eco Sabotage
		LongDesc: Targeted Ore or Gem mine, or Oil Well halts production for 1 minute.\nDoes not affect Ore Refineries or Silos.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		Condition: ecosabotage
		Cursor: c4
		Sequence: none
		ValidStances: Neutral, Enemy
		SupportPowerPaletteOrder: 4
	AirstrikePower@SovietAirstrike:
		PauseOnCondition: disabled || lowpower
		OrderName: SovietAirstrike
		Prerequisites: ~afld, ~player.afghan, ~techlevel.unrestricted
		Icon: airstrike
		ChargeInterval: 7500
		SquadSize: 1
		QuantizedFacings: 8
		Description: Air Strike
		LongDesc: Deploy an aerial napalm strike.\nBurns buildings and infantry along a line.
		SelectTargetSpeechNotification: SelectTarget
		UnitType: frog.bomber
		DisplayBeacon: True
		BeaconPoster: paranuke
		DisplayRadarPing: True
		CameraActor: camera.paradrop
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: airstrike
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	SupportPowerChargeBar:
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled
		Palette: disabled
	GrantCondition@IDISABLE:
		RequiresCondition: techdisable
		Condition: disabled
	ExternalCondition@TECHDISABLE:
		Condition: techdisable
	RenderSprites:
		Image: stek
	GpsDot:
		String: Tech

STEK.Russia:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.russia, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Storm Troopers\nA Badger drops three Veteran Shock Troopers anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Ukraine:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.ukraine, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Paragrenadiers\nA Badger drops four Veteran Grenadiers anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Moldova:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.moldova, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Paramines\nA Badger drops one Minelayer anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Belarus:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.belarus, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: EMP Bomb\nA fast plane drops an EMP Bomb on your target,\nthat disabled Vehicles, Buildings and Ships\nDisabled units cannot move or shoot for a while\nUncloaks hidden units, Submarines will resurface.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Karelia:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.karelia, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: V2 Missile Strike\nA Badger fires three V2 rockets on your target.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Kazakh:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.kazakh, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Storm Troopers\nA Badger drops three Veteran Shock Troopers anywhere on the map.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Kyrgiz:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.kyrgiz, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Reserves\nDelivers an group of two Scout Tanks and one BRDM Scout at your primary War Factory.\n (requires War Factory)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Uzbek:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.uzbek, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Lone Tower\nA Flame Tower gets instantly constructed on the spot\nchecking eligible Terrain.\n (requires Construction Yard)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Turkmen:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.turkmen, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Eco Sabotage\nTargeted Ore or Gem mine, or Oil Well halts production for 1 minute.\nDoes not affect Ore Refineries or Silos.
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

STEK.Afghan:
	Inherits: STEK
	Buildable:
		Prerequisites: proc, afldorweap, ~player.afghan, ~techlevel.high
		Description: Provides Soviet advanced technologies.\nMaximum one can be built.\nCan be Infiltrated by an Spy or Saboteur for\nunlocking Tech unit production.\n  Special Ability: Air Strike\nDeploy an aerial napalm strike that burns all along a line.\n (requires Airfield)
	RenderSprites:
		Image: stek
	ProvidesPrerequisite@COPY:
		Prerequisite: stek
	-MapEditorData:

SPRO:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^2x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	Selectable:
		Bounds: 48,48
	Buildable:
		Queue: Building
		BuildLimit: 1
		Prerequisites: techcenter, dome, ~!structures.gdi, ~!structures.nod, ~techlevel.high
		Description: Provides GPS Sattelite uplink.\nMaximum one can be built.\nCan be Infiltrated by an Spy, Saboteur or Infiltrator resulting\nin loss of map exploration.\n  Special Ability: GPS Satellite\nReveals map terrain and provides tactical information\n (Requires power and active radar to operate)
		BuildPaletteOrder: 9
	Valued:
		Cost: 1500
	Tooltip:
		Name: Space Program
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	GpsPower@Normal:
		PauseOnCondition: disabled || lowpower
		RequiresCondition: !kazakh.player
		Icon: gps
		OneShot: true
		ChargeInterval: 12000
		Description: GPS Satellite
		LongDesc: Reveals map terrain and provides tactical\ninformation. Requires power and active radar.
		RevealDelay: 375
		LaunchSpeechNotification: SatelliteLaunched
		DisplayTimerStances: Ally, Neutral, Enemy
		SupportPowerPaletteOrder: 7
	GpsPower@Faster:
		PauseOnCondition: disabled || lowpower
		RequiresCondition: kazakh.player
		Icon: gps
		OneShot: true
		ChargeInterval: 9000
		Description: GPS Satellite
		LongDesc: Reveals map terrain and provides tactical\ninformation. Requires power and active radar.
		RevealDelay: 375
		LaunchSpeechNotification: SatelliteLaunched
		DisplayTimerStances: Ally, Neutral, Enemy
		SupportPowerPaletteOrder: 7
	SupportPowerChargeBar:
	GrantConditionOnFaction@Faster:
		Condition: kazakh.player
		Factions: kazakh
		ResetOnOwnerChange: True
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate, ThiefInfiltrate, NodInfiltrate
	SpawnActorOnDeath:
		Actor: atek.husk
		OwnerType: InternalName
	InfiltrateForExploration:
		Types: SpyInfiltrate,ThiefInfiltrate,NodInfiltrate
	RenderSprites:
		Image: atek

AFLD:
	Inherits: ^Building
	Inherits@shape: ^3x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 420,0,0, 420,-1024,0, 420,1024,0, -777,0,0, -777,-1024,0, -777,1024,0
	Building:
		Footprint: xxx xx+
		Dimensions: 3,2
	Buildable:
		Queue: Building
		BuildPaletteOrder: 7
		Prerequisites: proc, ~!player.usa, ~techlevel.medium
		Description: Produces, repairs and reloads Airplanes.\nCan be Infiltrated by an Spy resulting\nin Veterancy for enemy Aircraft.\nCan be Infiltrated by an Saboteur\nresulting in its Destruction.\n  Special Ability: Paratroopers\nA Plane drops a squad of\nVeteran infantry anywhere on the map.
	Valued:
		Cost: 750
	Tooltip:
		Name: Airfield
	Selectable:
		Class: afld
		Bounds: 72,48
	Health:
		HP: 100000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	Capturable@ThfDemo:
		RequiresCondition: !build-incomplete
		Types: demolish-sabotage
	InfiltrateForSupportPower:
		Proxy: aircraft.upgraded
		Types: SpyInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Production:
		Produces: Aircraft, Plane
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Aircraft
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 192
	RepairsUnits:
		HpPerStep: 500
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
	Reservable:
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Factions: allies, usa, england, holland, france, sweden, germany, spain, italy, greece, turkey
		Prerequisite: aircraft.allies
	ProvidesPrerequisite@alliesvanilla:
		Factions: allies
		Prerequisite: aircraft.alliesvanilla
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: aircraft.usa
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: aircraft.england
	ProvidesPrerequisite@holland:
		Factions: holland
		Prerequisite: aircraft.holland
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: aircraft.france
	ProvidesPrerequisite@sweden:
		Factions: sweden
		Prerequisite: aircraft.sweden
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: aircraft.germany
	ProvidesPrerequisite@spain:
		Factions: spain
		Prerequisite: aircraft.spain
	ProvidesPrerequisite@italy:
		Factions: italy
		Prerequisite: aircraft.italy
	ProvidesPrerequisite@greece:
		Factions: greece
		Prerequisite: aircraft.greece
	ProvidesPrerequisite@turkey:
		Factions: turkey
		Prerequisite: aircraft.turkey
	ProvidesPrerequisite@alliedstructure:
		RequiresPrerequisites: structures.allies
		Prerequisite: aircraft.allies
	ProvidesPrerequisite@alliedvanillastructure:
		RequiresPrerequisites: structures.alliesvanilla
		Prerequisite: aircraft.alliesvanilla
	ProvidesPrerequisite@usastructure:
		RequiresPrerequisites: structures.usa
		Prerequisite: aircraft.usa
	ProvidesPrerequisite@englandstructure:
		RequiresPrerequisites: structures.england
		Prerequisite: aircraft.england
	ProvidesPrerequisite@hollandstructure:
		RequiresPrerequisites: structures.holland
		Prerequisite: aircraft.holland
	ProvidesPrerequisite@francestructure:
		RequiresPrerequisites: structures.france
		Prerequisite: aircraft.france
	ProvidesPrerequisite@swedenstructure:
		RequiresPrerequisites: structures.sweden
		Prerequisite: aircraft.sweden
	ProvidesPrerequisite@germanystructure:
		RequiresPrerequisites: structures.germany
		Prerequisite: aircraft.germany		
	ProvidesPrerequisite@spainstructure:
		RequiresPrerequisites: structures.spain
		Prerequisite: aircraft.spain
	ProvidesPrerequisite@italystructure:
		RequiresPrerequisites: structures.italy
		Prerequisite: aircraft.italy
	ProvidesPrerequisite@greecestructure:
		RequiresPrerequisites: structures.greece
		Prerequisite: aircraft.greece
	ProvidesPrerequisite@turkeystructure:
		RequiresPrerequisites: structures.turkey
		Prerequisite: aircraft.turkey
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, moldova, belarus, karelia, kazakh, kyrgiz, uzbek, turkmen, afghan
		Prerequisite: aircraft.soviet
	ProvidesPrerequisite@sovietvanilla:
		Factions: soviet
		Prerequisite: aircraft.sovietvanilla
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: aircraft.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: aircraft.ukraine
	ProvidesPrerequisite@moldova:
		Factions: moldova
		Prerequisite: aircraft.moldova
	ProvidesPrerequisite@belarus:
		Factions: belarus
		Prerequisite: aircraft.belarus
	ProvidesPrerequisite@karelia:
		Factions: karelia
		Prerequisite: aircraft.karelia
	ProvidesPrerequisite@kazakh:
		Factions: kazakh
		Prerequisite: aircraft.kazakh
	ProvidesPrerequisite@kyrgiz:
		Factions: kyrgiz
		Prerequisite: aircraft.kyrgiz
	ProvidesPrerequisite@uzbek:
		Factions: uzbek
		Prerequisite: aircraft.uzbek
	ProvidesPrerequisite@turkmen:
		Factions: turkmen
		Prerequisite: aircraft.turkmen
	ProvidesPrerequisite@afghan:
		Factions: afghan
		Prerequisite: aircraft.afghan
	ProvidesPrerequisite@sovietstructure:
		RequiresPrerequisites: structures.soviet
		Prerequisite: aircraft.soviet
	ProvidesPrerequisite@sovietvanillastructure:
		RequiresPrerequisites: structures.sovietvanilla
		Prerequisite: aircraft.sovietvanilla
	ProvidesPrerequisite@russiastructure:
		RequiresPrerequisites: structures.russia
		Prerequisite: aircraft.russia
	ProvidesPrerequisite@ukrainestructure:
		RequiresPrerequisites: structures.ukraine
		Prerequisite: aircraft.ukraine
	ProvidesPrerequisite@moldovastructure:
		RequiresPrerequisites: structures.moldova
		Prerequisite: aircraft.moldova
	ProvidesPrerequisite@belarusstructure:
		RequiresPrerequisites: structures.belarus
		Prerequisite: aircraft.belarus
	ProvidesPrerequisite@kareliastructure:
		RequiresPrerequisites: structures.karelia
		Prerequisite: aircraft.karelia
	ProvidesPrerequisite@kazakhstructure:
		RequiresPrerequisites: structures.kazakh
		Prerequisite: aircraft.kazakh
	ProvidesPrerequisite@kyrgizstructure:
		RequiresPrerequisites: structures.kyrgiz
		Prerequisite: aircraft.kyrgiz
	ProvidesPrerequisite@uzbekstructure:
		RequiresPrerequisites: structures.uzbek
		Prerequisite: aircraft.uzbek
	ProvidesPrerequisite@turkmenstructure:
		RequiresPrerequisites: structures.turkmen
		Prerequisite: aircraft.turkmen
	ProvidesPrerequisite@afghanstructure:
		RequiresPrerequisites: structures.afghan
		Prerequisite: aircraft.afghan
	ProvidesPrerequisite@gdi:
		Factions: gdi, futurecorp, socom, taskforce
		Prerequisite: aircraft.gdi
	ProvidesPrerequisite@gdistructure:
		RequiresPrerequisites: structures.gdi
		Prerequisite: aircraft.gdi
	ProvidesPrerequisite@nod:
		Factions: nod, blackhand, cabal, rebels
		Prerequisite: aircraft.nod
	ProvidesPrerequisite@nodstructure:
		RequiresPrerequisites: structures.nod
		Prerequisite: aircraft.nod
	ProvidesPrerequisite@TECHPREQ:
		Prerequisite: afldorweap
	ParatroopersPower@AlliedParatroopers:
		OrderName: AlliedParatroopers
		Prerequisites: aircraft.allies
		RequiresCondition: allied.player
		Icon: paratroopers
		ChargeInterval: 7500
		Description: Paratroopers
		LongDesc: A B-52 drops a squad of Veteran infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: b52
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: lowpower
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 3
	ParatroopersPower@AmericanParatroopers:
		OrderName: AmericanParatroopers
		Prerequisites: aircraft.allies
		RequiresCondition: usa.player
		Icon: paratroopers
		ChargeInterval: 9750
		Description: Paratroopers
		LongDesc: Two B-52 each drops a squad of\nVeteran Infantry anywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1, E1R1,E3R1,E1R1,E3R1,E1R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: b52
		SquadSize: 2
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: lowpower
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 3
	ParatroopersPower@SovietParatroopers:
		OrderName: SovietParatroopers
		Prerequisites: aircraft.soviet
		RequiresCondition: soviet.player
		Icon: paratroopers
		ChargeInterval: 7500
		Description: Paratroopers
		LongDesc: A Badger drops a squad of Veteran infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: badr
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: lowpower
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 3
	ParatroopersPower@FastParatroopers:
		OrderName: SovietFastParatroopers
		Prerequisites: aircraft.soviet
		RequiresCondition: belarus.player
		Icon: paratroopers
		ChargeInterval: 3750
		Description: Paratroopers
		LongDesc: A Badger drops a squad of Veteran infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: lowpower
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 3
	ParatroopersPower@CnCParatroopers:
		OrderName: CnCParatroopers
		Prerequisites: aircraft.cnc
		RequiresCondition: cnc.player
		Icon: paratroopers
		ChargeInterval: 7500
		Description: Paratroopers
		LongDesc: A C-17 drops a squad of Veteran infantry\nanywhere on the map.
		DropItems: E1R1,E3R1,E1R1,E3R1,E1R1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		UnitType: c17
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: lowpower
		Cursor: airdrop
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 3
	SupportPowerChargeBar:
	GrantConditionOnFaction@soviet:
		Condition: soviet.player
		Factions: soviet, russia, ukraine, moldova, karelia, kazakh, uzbek, turkmen, afghan
		ResetOnOwnerChange: True
	GrantConditionOnFaction@faster:
		Condition: belarus.player
		Factions: belarus
		ResetOnOwnerChange: True
	GrantConditionOnFaction@allies:
		Condition: allied.player
		Factions: allies, england, holland, france, germany, spain, italy, greece, turkey
		ResetOnOwnerChange: True
	GrantConditionOnFaction@double:
		Condition: usa.player
		Factions: usa
		ResetOnOwnerChange: True
	GrantConditionOnFaction@cnc:
		Condition: cnc.player
		Factions: gdi, futurecorp, socom, taskforce, nod, blackhand, cabal, rebels
		ResetOnOwnerChange: True
	GrantConditionOnFaction@gdi:
		Condition: gdi.player
		Factions: gdi, futurecorp, socom, taskforce
		ResetOnOwnerChange: True
	GrantConditionOnFaction@nod:
		Condition: nod.player
		Factions: nod, blackhand, cabal, rebels
		ResetOnOwnerChange: True
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: afld.husk
		OwnerType: InternalName
	ProductionCostMultiplier@Ukraine:
		Multiplier: 110
		Prerequisites: player.ukraine
	FreeActor@1:
		Actor: SPIT
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && allied.player && gratisair
	FreeActor@2:
		Actor: YAK
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && soviet.player && gratisair && !aitoodumb
	FreeActor@AI2:
		Actor: YAK.ai
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && soviet.player && gratisair && aitoodumb
	FreeActor@Belarus2:
		Actor: YAK.belarus
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && belarus.player && gratisair && !aitoodumb
	FreeActor@BelarusAI2:
		Actor: YAK.belarus.ai
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && belarus.player && gratisair && aitoodumb
	FreeActor@3:
		Actor: F22
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && nod.player && gratisair
	FreeActor@4:
		Actor: F18
		SpawnOffset: 1,1
		Facing: 64
		RequiresCondition: !build-incomplete && gdi.player && gratisair
	GrantConditionOnPrerequisite@FREEAIRCRAFT:
		Prerequisites: global-freeaircraft
		Condition: gratisair
	ProductionCostMultiplier@FREEAIRCRAFT:
		Multiplier: 150
		Prerequisites: global-freeaircraft
	GrantConditionOnPrerequisite@AIRESTRICTOR:
		Prerequisites: aitoodumb
		Condition: aitoodumb
	RenderSprites:
		Image: afld
		FactionImages:
			gdi: gdiafld
			futurecorp: gdiafld
			socom: gdiafld
			taskforce: gdiafld

HPAD:
	Inherits: ^Building
	Inherits@shape: ^2x2Shape
	Inherits@RUMOD: ^AffectedByRussia
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 768,-512,0, 768,512,0, -281,-512,0, -630,512,0
	Building:
		Footprint: xx ==
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: dome, ~!player.usa, ~techlevel.medium
		Description: Produces and reloads Helicopters.\nCan be Infiltrated by an Spy resulting\nin Veterancy for enemy Aircraft.\nCan be Infiltrated by an Saboteur\nresulting in its Destruction.
	Valued:
		Cost: 500
	Tooltip:
		Name: Helipad
	Health:
		HP: 80000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	Capturable@ThfDemo:
		RequiresCondition: !build-incomplete
		Types: demolish-sabotage
	InfiltrateForSupportPower:
		Proxy: aircraft.upgraded
		Types: SpyInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Production:
		Produces: Aircraft, Helicopter
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Aircraft
	RallyPoint:
	RepairsUnits:
		HpPerStep: 500
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
	Reservable:
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-256,0
		ExitCell: 0,0
		Facing: 224
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	Power:
		Amount: -10
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Factions: allies, usa, england, holland, france, sweden, germany, spain, italy, greece, turkey
		Prerequisite: aircraft.allies
	ProvidesPrerequisite@alliesvanilla:
		Factions: allies
		Prerequisite: aircraft.alliesvanilla
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: aircraft.usa
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: aircraft.england
	ProvidesPrerequisite@holland:
		Factions: holland
		Prerequisite: aircraft.holland
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: aircraft.france
	ProvidesPrerequisite@sweden:
		Factions: sweden
		Prerequisite: aircraft.sweden
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: aircraft.germany
	ProvidesPrerequisite@spain:
		Factions: spain
		Prerequisite: aircraft.spain
	ProvidesPrerequisite@italy:
		Factions: italy
		Prerequisite: aircraft.italy
	ProvidesPrerequisite@greece:
		Factions: greece
		Prerequisite: aircraft.greece
	ProvidesPrerequisite@turkey:
		Factions: turkey
		Prerequisite: aircraft.turkey
	ProvidesPrerequisite@alliedstructure:
		RequiresPrerequisites: structures.allies
		Prerequisite: aircraft.allies
	ProvidesPrerequisite@alliedvanillastructure:
		RequiresPrerequisites: structures.alliesvanilla
		Prerequisite: aircraft.alliesvanilla
	ProvidesPrerequisite@usastructure:
		RequiresPrerequisites: structures.usa
		Prerequisite: aircraft.usa
	ProvidesPrerequisite@englandstructure:
		RequiresPrerequisites: structures.england
		Prerequisite: aircraft.england
	ProvidesPrerequisite@hollandstructure:
		RequiresPrerequisites: structures.holland
		Prerequisite: aircraft.holland
	ProvidesPrerequisite@francestructure:
		RequiresPrerequisites: structures.france
		Prerequisite: aircraft.france
	ProvidesPrerequisite@swedenstructure:
		RequiresPrerequisites: structures.sweden
		Prerequisite: aircraft.sweden
	ProvidesPrerequisite@germanystructure:
		RequiresPrerequisites: structures.germany
		Prerequisite: aircraft.germany		
	ProvidesPrerequisite@spainstructure:
		RequiresPrerequisites: structures.spain
		Prerequisite: aircraft.spain
	ProvidesPrerequisite@italystructure:
		RequiresPrerequisites: structures.italy
		Prerequisite: aircraft.italy
	ProvidesPrerequisite@greecestructure:
		RequiresPrerequisites: structures.greece
		Prerequisite: aircraft.greece
	ProvidesPrerequisite@turkeystructure:
		RequiresPrerequisites: structures.turkey
		Prerequisite: aircraft.turkey
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, moldova, belarus, karelia, kazakh, kyrgiz, uzbek, turkmen, afghan
		Prerequisite: aircraft.soviet
	ProvidesPrerequisite@sovietvanilla:
		Factions: soviet
		Prerequisite: aircraft.sovietvanilla
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: aircraft.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: aircraft.ukraine
	ProvidesPrerequisite@moldova:
		Factions: moldova
		Prerequisite: aircraft.moldova
	ProvidesPrerequisite@belarus:
		Factions: belarus
		Prerequisite: aircraft.belarus
	ProvidesPrerequisite@karelia:
		Factions: karelia
		Prerequisite: aircraft.karelia
	ProvidesPrerequisite@kazakh:
		Factions: kazakh
		Prerequisite: aircraft.kazakh
	ProvidesPrerequisite@kyrgiz:
		Factions: kyrgiz
		Prerequisite: aircraft.kyrgiz
	ProvidesPrerequisite@uzbek:
		Factions: uzbek
		Prerequisite: aircraft.uzbek
	ProvidesPrerequisite@turkmen:
		Factions: turkmen
		Prerequisite: aircraft.turkmen
	ProvidesPrerequisite@afghan:
		Factions: afghan
		Prerequisite: aircraft.afghan
	ProvidesPrerequisite@sovietstructure:
		RequiresPrerequisites: structures.soviet
		Prerequisite: aircraft.soviet
	ProvidesPrerequisite@sovietvanillastructure:
		RequiresPrerequisites: structures.sovietvanilla
		Prerequisite: aircraft.sovietvanilla
	ProvidesPrerequisite@russiastructure:
		RequiresPrerequisites: structures.russia
		Prerequisite: aircraft.russia
	ProvidesPrerequisite@ukrainestructure:
		RequiresPrerequisites: structures.ukraine
		Prerequisite: aircraft.ukraine
	ProvidesPrerequisite@moldovastructure:
		RequiresPrerequisites: structures.moldova
		Prerequisite: aircraft.moldova
	ProvidesPrerequisite@belarusstructure:
		RequiresPrerequisites: structures.belarus
		Prerequisite: aircraft.belarus
	ProvidesPrerequisite@kareliastructure:
		RequiresPrerequisites: structures.karelia
		Prerequisite: aircraft.karelia
	ProvidesPrerequisite@kazakhstructure:
		RequiresPrerequisites: structures.kazakh
		Prerequisite: aircraft.kazakh
	ProvidesPrerequisite@kyrgizstructure:
		RequiresPrerequisites: structures.kyrgiz
		Prerequisite: aircraft.kyrgiz
	ProvidesPrerequisite@uzbekstructure:
		RequiresPrerequisites: structures.uzbek
		Prerequisite: aircraft.uzbek
	ProvidesPrerequisite@turkmenstructure:
		RequiresPrerequisites: structures.turkmen
		Prerequisite: aircraft.turkmen
	ProvidesPrerequisite@afghanstructure:
		RequiresPrerequisites: structures.afghan
		Prerequisite: aircraft.afghan
	ProvidesPrerequisite@gdi:
		Factions: gdi, futurecorp, socom, taskforce
		Prerequisite: aircraft.gdi
	ProvidesPrerequisite@gdistructure:
		RequiresPrerequisites: structures.gdi
		Prerequisite: aircraft.gdi
	ProvidesPrerequisite@nod:
		Factions: nod, blackhand, cabal, rebels
		Prerequisite: aircraft.nod
	ProvidesPrerequisite@nodstructure:
		RequiresPrerequisites: structures.nod
		Prerequisite: aircraft.nod
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: hpad.husk
		OwnerType: InternalName
	FreeActor@1:
		Actor: IROQ
		SpawnOffset: 0,0
		Facing: 64
		RequiresCondition: !build-incomplete && allied.player && gratisair && !aitoodumb
	FreeActor@AI1:
		Actor: IROQ.AI
		SpawnOffset: 0,0
		Facing: 64
		RequiresCondition: !build-incomplete && allied.player && gratisair && aitoodumb
	FreeActor@2:
		Actor: HIND
		SpawnOffset: 0,0
		Facing: 64
		RequiresCondition: !build-incomplete && soviet.player && gratisair
	FreeActor@3:
		Actor: HELI.Nod
		SpawnOffset: 0,0
		Facing: 64
		RequiresCondition: !build-incomplete && nod.player && gratisair && !aitoodumb
	FreeActor@AI3:
		Actor: HELI.Nod.AI
		SpawnOffset: 0,0
		Facing: 64
		RequiresCondition: !build-incomplete && nod.player && gratisair && aitoodumb
	FreeActor@4:
		Actor: ORCA
		SpawnOffset: 0,0
		Facing: 64
		RequiresCondition: !build-incomplete && gdi.player && gratisair
	GrantConditionOnFaction@Soviet:
		Condition: soviet.player
		Factions: soviet,russia,ukraine,moldova,belarus,karelia,kazakh,uzbek,turkmen,afghan
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Allies:
		Condition: allied.player
		Factions: allies,usa,england,holland,france,germany,spain,italy,greece,turkey
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Gdi:
		Condition: gdi.player
		Factions: gdi,futurecorp,socom,taskforce
		ResetOnOwnerChange: True
	GrantConditionOnFaction@Nod:
		Condition: nod.player
		Factions: nod,blackhand,cabal,rebels
		ResetOnOwnerChange: True
	GrantConditionOnPrerequisite@FREEAIRCRAFT:
		Prerequisites: global-freeaircraft
		Condition: gratisair
	ProductionCostMultiplier@FREEAIRCRAFT:
		Multiplier: 150
		Prerequisites: global-freeaircraft
	GrantConditionOnPrerequisite@AIRESTRICTOR:
		Prerequisites: aitoodumb
		Condition: aitoodumb
	GrantExternalConditionToProduced:
		Condition: produced

SYRD:
	Inherits: ^Building
	-SpawnActorsOnSell:
	-GivesBuildableArea:
	RequiresBuildableArea:
		Adjacent: 8
	Selectable:
		Bounds: 72,48
	HitShape:
		TargetableOffsets: 768,0,0, 768,-1024,0, 768,1024,0
		Type: Rectangle
			TopLeft: -1536, -1152
			BottomRight: 1536, 598
	HitShape@BOTTOM:
		TargetableOffsets: -768,0,0
		Type: Rectangle
			TopLeft: -512, 598
			BottomRight: 512, 1110
	Building:
		Footprint: XXX xxx XXX
		Dimensions: 3,3
		TerrainTypes: Water
	Buildable:
		Queue: Building
		BuildPaletteOrder: 3
		Prerequisites: anypower, ~structures.allies, ~!player.usa, ~techlevel.low, ~!global-disablenavy
		Description: Produces and repairs\nShips and Transports.\nNearby Navy can be sold for half their value.\n (their value scaling with health)\n  Special Ability: Sonar Pulse\nReveals all submarines in target\narea for a short time.
	Valued:
		Cost: 750
	Tooltip:
		Name: Naval Yard
	Health:
		HP: 120000
	Targetable:
		TargetTypes: Ground, Water, Structure, WaterStructure, C4, DetonateAttack, SpyInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	DetectCloaked:
		CloakTypes: Underwater
		Range: 7c512
	RenderDetectionCircle:
	Production:
		Produces: Ship, Boat
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Ship
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RepairsUnits:
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,1024,0
		Facing: 160
		ExitCell: 0,2
		ProductionTypes: Ship, Boat
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,1024,0
		Facing: 224
		ExitCell: 2,2
		ProductionTypes: Ship, Boat
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,-1024,0
		Facing: 96
		ExitCell: 0,0
		ProductionTypes: Ship, Boat
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,-1024,0
		Facing: 32
		ExitCell: 2,0
		ProductionTypes: Ship, Boat
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@allies:
		Factions: allies, usa, england, holland, france, sweden, germany, spain, italy, greece, turkey
		Prerequisite: navy.allies
	ProvidesPrerequisite@alliesvanilla:
		Factions: allies
		Prerequisite: navy.alliesvanilla
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: navy.usa
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: navy.england
	ProvidesPrerequisite@holland:
		Factions: holland
		Prerequisite: navy.holland
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: navy.france
	ProvidesPrerequisite@sweden:
		Factions: sweden
		Prerequisite: navy.sweden
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: navy.germany
	ProvidesPrerequisite@spain:
		Factions: spain
		Prerequisite: navy.spain
	ProvidesPrerequisite@italy:
		Factions: italy
		Prerequisite: navy.italy
	ProvidesPrerequisite@greece:
		Factions: greece
		Prerequisite: navy.greece
	ProvidesPrerequisite@turkey:
		Factions: turkey
		Prerequisite: navy.turkey
	ProvidesPrerequisite@alliedstructure:
		RequiresPrerequisites: structures.allies
		Prerequisite: navy.allies
	ProvidesPrerequisite@alliedvanillastructure:
		RequiresPrerequisites: structures.alliesvanilla
		Prerequisite: navy.alliesvanilla
	ProvidesPrerequisite@usastructure:
		RequiresPrerequisites: structures.usa
		Prerequisite: navy.usa
	ProvidesPrerequisite@englandstructure:
		RequiresPrerequisites: structures.england
		Prerequisite: navy.england
	ProvidesPrerequisite@hollandstructure:
		RequiresPrerequisites: structures.holland
		Prerequisite: navy.holland
	ProvidesPrerequisite@francestructure:
		RequiresPrerequisites: structures.france
		Prerequisite: navy.france
	ProvidesPrerequisite@swedenstructure:
		RequiresPrerequisites: structures.sweden
		Prerequisite: navy.sweden
	ProvidesPrerequisite@germanystructure:
		RequiresPrerequisites: structures.germany
		Prerequisite: navy.germany		
	ProvidesPrerequisite@spainstructure:
		RequiresPrerequisites: structures.spain
		Prerequisite: navy.spain
	ProvidesPrerequisite@italystructure:
		RequiresPrerequisites: structures.italy
		Prerequisite: navy.italy
	ProvidesPrerequisite@greecestructure:
		RequiresPrerequisites: structures.greece
		Prerequisite: navy.greece
	ProvidesPrerequisite@turkeystructure:
		RequiresPrerequisites: structures.turkey
		Prerequisite: navy.turkey
	ProximityExternalCondition@MINEREPLENISH:
		Condition: replenishsmine
		Range: 5c0
		RequiresCondition: !disabled
	ProximityExternalCondition@SELLSHIPS:
		Condition: ship.sellable
		Range: 5c0
	MapEditorData:
		ExcludeTilesets: INTERIOR
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorPower@SonarPulse:
		Icon: sonar
		Description: Sonar Pulse
		LongDesc: Reveals all submarines in the\nvicinity for a short time.
		ChargeInterval: 750
		EndChargeSpeechNotification: SonarPulseReady
		SelectTargetSpeechNotification: SelectTarget
		Actor: sonar
		LifeTime: 250
		DeploySound: sonpulse.aud
		EffectImage: moveflsh
		EffectPalette: moveflash
		SupportPowerPaletteOrder: 8
		PauseOnCondition: lowpower
		Cursor: sonar-target
	SupportPowerChargeBar:
	GpsDot:
		String: Naval

SPEN:
	Inherits: ^Building
	Inherits@RUMOD: ^AffectedByRussia
	-SpawnActorsOnSell:
	-GivesBuildableArea:
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 8
	Selectable:
		Bounds: 72,48
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -598
			BottomRight: 1536, 598
	HitShape@TOPANDBOTTOM:
		TargetableOffsets: 811,0,0, -811,0,0
		Type: Rectangle
			TopLeft: -555, -1110
			BottomRight: 555, 1110
	Building:
		Footprint: XXX xxx XXX
		Dimensions: 3,3
		TerrainTypes: Water
	Buildable:
		Queue: Building
		BuildPaletteOrder: 3
		Prerequisites: anypower, ~structures.soviet, ~techlevel.low, ~!global-disablenavy
		Description: Produces and repairs\nSubmarines and Transports.\nNearby Navy can be sold for half their value.\n (their value scaling with health)\n  Special Ability: Sonar Pulse\nReveals all submarines in target\narea for a short time.
	Tooltip:
		Name: Sub Pen
	Valued:
		Cost: 750
	Health:
		HP: 120000
	Armor:
		Type: Wood
	Targetable:
		TargetTypes: Ground, Water, Structure, WaterStructure, C4, DetonateAttack, SpyInfiltrate
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	DetectCloaked:
		CloakTypes: Underwater
		Range:  7c512
	RenderDetectionCircle:
	Production:
		Produces: Ship, Submarine
		PauseOnCondition: disabled || build-incomplete
	ProductionBar:
		ProductionType: Ship
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RepairsUnits:
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-213,0
		Facing: 96
		ExitCell: -1,2
		ProductionTypes: Submarine
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-213,0
		Facing: 160
		ExitCell: 3,2
		ProductionTypes: Submarine
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		Facing: 32
		ExitCell: 0,0
		ProductionTypes: Submarine
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		Facing: 224
		ExitCell: 2,0
		ProductionTypes: Submarine
	Exit@b1:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,1024,0
		Facing: 160
		ExitCell: 0,2
		ProductionTypes: Ship
	Exit@b2:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,1024,0
		Facing: 224
		ExitCell: 2,2
		ProductionTypes: Ship
	Exit@b3:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,-1024,0
		Facing: 96
		ExitCell: 0,0
		ProductionTypes: Ship
	Exit@b4:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,-1024,0
		Facing: 32
		ExitCell: 2,0
		ProductionTypes: Ship
	Power:
		Amount: -30
		RequiresCondition: !build-incomplete
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@soviet:
		Factions: soviet, russia, ukraine, moldova, belarus, karelia, kazakh, kyrgiz, uzbek, turkmen, afghan
		Prerequisite: navy.soviet
	ProvidesPrerequisite@sovietvanilla:
		Factions: soviet
		Prerequisite: navy.sovietvanilla
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: navy.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: navy.ukraine
	ProvidesPrerequisite@moldova:
		Factions: moldova
		Prerequisite: navy.moldova
	ProvidesPrerequisite@belarus:
		Factions: belarus
		Prerequisite: navy.belarus
	ProvidesPrerequisite@karelia:
		Factions: karelia
		Prerequisite: navy.karelia
	ProvidesPrerequisite@kazakh:
		Factions: kazakh
		Prerequisite: navy.kazakh
	ProvidesPrerequisite@kyrgiz:
		Factions: kyrgiz
		Prerequisite: navy.kyrgiz
	ProvidesPrerequisite@uzbek:
		Factions: uzbek
		Prerequisite: navy.uzbek
	ProvidesPrerequisite@turkmen:
		Factions: turkmen
		Prerequisite: navy.turkmen
	ProvidesPrerequisite@afghan:
		Factions: afghan
		Prerequisite: navy.afghan
	ProvidesPrerequisite@sovietstructure:
		RequiresPrerequisites: structures.soviet
		Prerequisite: navy.soviet
	ProvidesPrerequisite@sovietvanillastructure:
		RequiresPrerequisites: structures.sovietvanilla
		Prerequisite: navy.sovietvanilla
	ProvidesPrerequisite@russiastructure:
		RequiresPrerequisites: structures.russia
		Prerequisite: navy.russia
	ProvidesPrerequisite@ukrainestructure:
		RequiresPrerequisites: structures.ukraine
		Prerequisite: navy.ukraine
	ProvidesPrerequisite@moldovastructure:
		RequiresPrerequisites: structures.moldova
		Prerequisite: navy.moldova
	ProvidesPrerequisite@belarusstructure:
		RequiresPrerequisites: structures.belarus
		Prerequisite: navy.belarus
	ProvidesPrerequisite@kareliastructure:
		RequiresPrerequisites: structures.karelia
		Prerequisite: navy.karelia
	ProvidesPrerequisite@kazakhstructure:
		RequiresPrerequisites: structures.kazakh
		Prerequisite: navy.kazakh
	ProvidesPrerequisite@uzbekstructure:
		RequiresPrerequisites: structures.uzbek
		Prerequisite: navy.uzbek
	ProvidesPrerequisite@turkmenstructure:
		RequiresPrerequisites: structures.turkmen
		Prerequisite: navy.turkmen
	ProvidesPrerequisite@afghanstructure:
		RequiresPrerequisites: structures.afghan
		Prerequisite: navy.afghan
	ProximityExternalCondition@MINEREPLENISH:
		Condition: replenishsmine
		Range: 5c0
		RequiresCondition: !disabled
	ProximityExternalCondition@SELLSHIPS:
		Condition: ship.sellable
		Range: 5c0
	MapEditorData:
		ExcludeTilesets: INTERIOR
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorPower@SonarPulse:
		Icon: sonar
		Description: Sonar Pulse
		LongDesc: Reveals all submarines in the vicinity for a \nshort time.
		ChargeInterval: 750
		EndChargeSpeechNotification: SonarPulseReady
		SelectTargetSpeechNotification: SelectTarget
		Actor: sonar
		LifeTime: 250
		DeploySound: sonpulse.aud
		EffectImage: moveflsh
		EffectPalette: moveflash
		SupportPowerPaletteOrder: 8
		PauseOnCondition: lowpower
		Cursor: sonar-target
	SupportPowerChargeBar:
	GpsDot:
		String: Naval

GAP:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@RUMOD: ^AffectedByRussia
	-AcceptsDeliveredCash:
	-Capturable:
	-Capturable@2:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	WithSpriteBody:
		PauseOnCondition: disabled
	SelectionDecorations:
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,48,0,-12
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Buildable:
		Queue: Building
		BuildPaletteOrder: 11
		Prerequisites: techcenter, ~fact, ~!structures.gdi, ~!structures.nod, ~!player.sweden, ~techlevel.high
		Description: Obscures the enemy's view with shroud.\nRequires power to operate.
	Tooltip:
		Name: Gap Generator
	Valued:
		Cost: 1000
	Health:
		HP: 50000
	Armor:
		Type: Heavy
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	CreatesShroud:
		Range: 9c0
		RequiresCondition: !disabled && !build-incomplete
	RenderShroudCircle:
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	SpawnActorOnDeath:
		Actor: gap.husk
		OwnerType: InternalName
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished

SBAG:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 1
		Prerequisites: fact, ~!structures.soviet, ~!structures.nod, ~!player.greece, ~techlevel.low
		Description: Stops infantry and light vehicles.\nCan be crushed by tanks.\nBuilds further than Concrete walls.
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Sandbag Wall
	Health:
		HP: 15000
	Armor:
		Type: Concrete
	LineBuild:
		NodeTypes: sandbag
		Range: 12
	LineBuildNode:
		Types: sandbag
	WithWallSpriteBody:
		Type: sandbag

FENC:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 1
		Prerequisites: fact, ~structures.soviet, ~techlevel.low
		Description: Stops infantry and light vehicles.\nCan be crushed by tanks.\nBuilds further than Concrete walls.
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Wire Fence
	Health:
		HP: 15000
	Armor:
		Type: Concrete
	LineBuild:
		NodeTypes: fence
		Range: 12
	LineBuildNode:
		Types: fence
	WithWallSpriteBody:
		Type: fence

BARB:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 1
		Prerequisites: ~disabled
		Description: Stops infantry and light vehicles.\nCan be crushed by tracked vehicles.
	Valued:
		Cost: 50
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Barbed-Wire Fence
	Health:
		HP: 15000
	Armor:
		Type: Concrete
	LineBuild:
		NodeTypes: barbwire
		Range: 12
	LineBuildNode:
		Types: barbwire
	WithWallSpriteBody:
		Type: barbwire

WOOD:
	Inherits: ^Wall
	Tooltip:
		Name: Wooden Fence
	Armor:
		Type: Wood
	LineBuild:
		NodeTypes: woodfence
	LineBuildNode:
		Types: woodfence
	WithWallSpriteBody:
		Type: woodfence

BRIK:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 12
		Prerequisites: weap, ~!player.greece, ~techlevel.medium
		Description: Stop units and blocks enemy fire.\nCan be crushed by Mammoth Tanks.
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Concrete Wall
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 40000
	Armor:
		Type: Concrete
	Crushable:
		CrushClasses: heavywall
	BlocksProjectiles:
	LineBuild:
		NodeTypes: concrete, gate
	LineBuildNode:
		Types: concrete, gate
	WithWallSpriteBody:
		Type: concrete

HGATE:
	Inherits: ^Gate
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	Building:
		Footprint: xxx
		Dimensions: 3,1
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 13
		Prerequisites: weap, ~!player.greece, ~techlevel.medium
		Description: Places an horizontal gate.\nThe gate automatically opens for friendly units.\nBlocks enemy access into your base.
	Valued:
		Cost: 250
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !being-demolished
	CustomSellValue:
		Value: 50
	WithGateSpriteBody:
		WallConnections: -1,0, 3,0
	LineBuildNode:
		Connections: -1,0, 1,0
	Tooltip:
		Name: Gate - (horizontal)
	RevealsShroud:
		Range: 1c0
	RenderSprites:
		Image: hgate
		FactionImages:
			allies: hgate-allies
			usa: hgate-allies
			england: hgate-allies
			holland: hgate-allies
			france: hgate-allies
			sweden: hgate-allies
			germany: hgate-allies
			spain: hgate-allies
			italy: hgate-allies
			greece: hgate-allies
			turkey: hgate-allies
			soviet: hgate-soviet
			russia: hgate-soviet
			ukraine: hgate-soviet
			moldova: hgate-soviet
			belarus: hgate-soviet
			karelia: hgate-soviet
			kazakh: hgate-soviet
			kyrgiz: hgate-soviet
			uzbek: hgate-soviet
			turkmen: hgate-soviet
			afghan: hgate-soviet
			gdi: hgate-gdi
			futurecorp: hgate-gdi
			socom: hgate-gdi
			taskforce: hgate-gdi
			nod: hgate-nod
			blackhand: hgate-nod
			cabal: hgate-nod
			rebels: hgate-nod

VGATE:
	Inherits: ^Gate
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
	Building:
		Footprint: x x x
		Dimensions: 1,3
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 14
		Prerequisites: weap, ~!player.greece, ~techlevel.medium
		Description: Places an vertical gate.\nThe gate automatically opens for friendly units.\nBlocks enemy access into your base.
	Valued:
		Cost: 250
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !being-demolished
	CustomSellValue:
		Value: 50
	WithGateSpriteBody:
		WallConnections: 0,-1, 0,3
	LineBuildNode:
		Connections: 0,-1, 0,1
	Tooltip:
		Name: Gate I (vertical)
	RevealsShroud:
		Range: 1c0

PBOX:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiInfDefense
	-WithColoredOverlay@EMPDISABLE:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-ExternalCondition@EMPDISABLE:
	-PowerMultiplier@EMPDISABLE:
	-GrantCondition@EMPDISABLE:
	-QuantizeFacingsFromSequence:
	-SpawnActorsOnSell:
	BodyOrientation:
		QuantizedFacings: 8
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 2
		Prerequisites: barracks, ~!structures.gdi, ~!structures.nod, ~!player.greece, ~!player.uzbek, ~techlevel.low
		Description: Static defense with a Machinegun.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Tooltip:
		Name: Pillbox
	Valued:
		Cost: 500
	Health:
		HP: 40000
	Targetable@DontEMP:
		TargetTypes: EMPInvalid
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !build-incomplete
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 255
		Offset: 0,0,64
	Armament:
		Weapon: Vulcan
		MuzzleSequence: muzzle
		LocalOffset: 448,0,0
		PauseOnCondition: build-incomplete
	AttackTurreted:
	WithMuzzleOverlay:
	RenderRangeCircle:
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: pbox.husk
		OwnerType: InternalName

HBOX:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiInfDefense
	-WithColoredOverlay@EMPDISABLE:
	-TimedConditionBar@EMPDISABLE:
	-WithIdleOverlay@EMPDISABLE:
	-ExternalCondition@EMPDISABLE:
	-PowerMultiplier@EMPDISABLE:
	-GrantCondition@EMPDISABLE:
	-SpawnActorsOnSell:
	-MustBeDestroyed:
	-QuantizeFacingsFromSequence:
	BodyOrientation:
		QuantizedFacings: 8
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 5
		Prerequisites: barracks, dome, ~structures.allies, ~!player.greece, ~techlevel.medium
		Description: Camouflaged static defense with a Sniper.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Tooltip:
		Name: Camo Pillbox
	Valued:
		Cost: 800
	Health:
		HP: 40000
	Targetable@DontEMP:
		TargetTypes: EMPInvalid
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !build-incomplete
	RenderDetectionCircle:
	Cloak:
		InitialDelay: 150
		CloakDelay: 75
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || build-incomplete
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Turreted:
		TurnSpeed: 255
		Offset: 0,0,64
	Armament:
		Weapon: Sniper
		MuzzleSequence: muzzle
		LocalOffset: 448,0,0
		PauseOnCondition: build-incomplete
	AttackTurreted:
	WithMuzzleOverlay:
	RenderRangeCircle:
	Power:
		Amount: -20
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: hbox.husk
		OwnerType: InternalName

FTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@IDISABLE: ^DisableOnPowerDown
	-SpawnActorsOnSell:
	-QuantizeFacingsFromSequence:	
	BodyOrientation:
		QuantizedFacings: 8
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 4
		Prerequisites: weap, ~structures.soviet, ~!player.uzbek, ~techlevel.medium
		Description: Anti-Infantry base defense.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Valued:
		Cost: 600
	Tooltip:
		Name: Flame Turret
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled && !build-incomplete
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Turreted@RANGE:
		Turret: ranged-turret
		TurnSpeed: 255
		Offset: 0,0,112
	Turreted@MELEE:
		Turret: melee-turret
		TurnSpeed: 255
		Offset: 0,0,112
	Armament@RANGE:
		Name: primary
		Weapon: FireballLauncher
		LocalOffset: 512,0,0
		Turret: ranged-turret
		PauseOnCondition: disabled
	Armament@MELEE:
		Name: secondary
		Weapon: Flamespray.dual
		LocalOffset: 512,128,42, 512,-128,42
		MuzzleSequence: muzzle-spray
		Turret: melee-turret
		PauseOnCondition: empdisable
	AttackTurreted:
		Armaments: primary, secondary
		Turrets: ranged-turret, melee-turret
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	SpawnActorOnDeath:
		Actor: ftur.husk
		OwnerType: InternalName	

TSLA:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	-SpawnActorsOnSell:
	SelectionDecorations:
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,40,0,-8
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 5
		Prerequisites: dome, ~structures.soviet, ~!player.uzbek, ~techlevel.medium
		Description: Advanced base defense.\nTesla briefly short-circuits Vehicle and Ships.\nImmune to EMP\nCan detect cloaked units.\n  Strong vs Vehicles, Infantry\n  Weak vs Aircraft
	Valued:
		Cost: 1200
	Tooltip:
		Name: Tesla Coil
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Armament:
		Weapon: TeslaZap
		LocalOffset: 0,0,896
	AttackTesla:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
		ChargeAudio: tslachg2.aud
		MaxCharges: 3
		ReloadDelay: 120
	WithTeslaChargeAnimation:
	#	this ensures TeslaCharge weapon can target the Tesla Coil
	Targetable@ChargeTargeting:
		TargetTypes: Charge
		RequiresCondition: !TeslaHasCharge && lowpower
	#	the TesleChargeApplied condition gets applied by an new secondary weapon on SHOK
	GrantCondition@Overcharge:
		Condition: TeslaHasCharge
		RequiresCondition: TeslaChargeApplied
	ExternalCondition@Overcharge:
		Condition: TeslaChargeApplied
	WithDecoration@Overcharge:
		Image: poweroff
		Sequence: charging
		ReferencePoint: Bottom, Right
		RequiresCondition: TeslaChargeApplied
	TimedConditionBar@Charged:
		Condition: TeslaChargeApplied
		Color: f4f442
	#	modify adding the new state so it cant be toggled off
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
		RequiresCondition: !TeslaChargeApplied
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown && !TeslaHasCharge
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSound: EnablePower
		EnabledSound: DisablePower
		Condition: powerdown
		OrderName: PowerDown
		RequiresCondition: !TeslaChargeApplied
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: tsla.husk
		OwnerType: InternalName
	Targetable@DontEMP:
		TargetTypes: EMPInvalid

GUN:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGroundAntiTankDefense
	-WithSpriteBody:
	-SpawnActorsOnSell:
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	WithEmbeddedTurretSpriteBody:
	BodyOrientation:
		UseClassicFacingFudge: True
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 4
		Prerequisites: weap, ~structures.allies, ~!player.spain, ~!player.greece, ~techlevel.medium
		Description: Anti-Armor base defense.\nCan detect cloaked units.\n  Strong vs Vehicles\n  Weak vs Infantry, Aircraft
	Valued:
		Cost: 800
	Tooltip:
		Name: Gun Turret
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled && !lowpower && !build-incomplete
	RenderDetectionCircle:
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 12
		InitialFacing: 307
	Armament:
		Weapon: TurretGun
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
		PauseOnCondition: disabled
	AttackTurreted:
		PauseOnCondition: disabled
		RequiresCondition: !build-incomplete
	WithMuzzleOverlay:
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	SpawnActorOnDeath:
		Actor: gun.husk
		OwnerType: InternalName
	ProvidesPrerequisite@buildingname:

GTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	-WithSpriteBody:
	-SpawnActorsOnSell:
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	BodyOrientation:
		UseClassicFacingFudge: True
	SelectionDecorations:
	Selectable:
		DecorationBounds: 34,22
	Building:
		Footprint: xx
		Dimensions: 2,1
		LocalCenterOffset: 0,-256,0
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 7
		BuildLimit: 1
		Prerequisites: atek, ~structures.allies, ~!player.greece, ~techlevel.high
		Description: Triple-barreled Artillery base defense.\nHas double the durability of standard Defenses.\nCan detect cloaked units.\nMaximum one can be built.\n  Strong vs Infantry, Vehicles, Ships\n  Weak vs Aircraft
	Valued:
		Cost: 1600
	Tooltip:
		Name: Grand Turret
	Health:
		HP: 80000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	DetectCloaked:
		Range: 3c768
		RequiresCondition: !disabled && !build-incomplete
	RenderDetectionCircle:
	Turreted:
		TurnSpeed: 2
		InitialFacing: 0
		RealignDelay: -1
	WithEmbeddedTurretSpriteBody:
		PauseOnCondition: empdisable
	WithBuildingBib:
		HasMinibib: true
	AttackTurreted:
		PauseOnCondition: disabled
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: 203mm
		MuzzleSequence: muzzle
		LocalOffset: 860,200,320, 860,0,320, 860,-200,320
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	ReloadArmamentsBar:
		Color: FFFF00
	Power:
		Amount: -80
		RequiresCondition: !build-incomplete
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:

PDOX:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		TerrainTypes: Clear,Road
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 8
		BuildLimit: 1
		Prerequisites: atek, ~structures.allies, ~!player.germany, ~techlevel.unrestricted
		Description: Stores and recharges the Chronoshift power.\nMaximum one can be built.\n  Requires power to operate.\n  Special Ability: Chronoshift\nTeleports a group of units across\nthe map for 20 seconds duration.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Chronosphere
	Health:
		HP: 100000
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
		HasMinibib: true
	ChronoshiftPower@chronoshift:
		OrderName: ChronoshiftPower
		PauseOnCondition: disabled
		Icon: chrono
		ChargeInterval: 4500
		Description: Chronoshift
		LongDesc: Teleports a group of units across\nthe map for 20 seconds.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChronosphereCharging
		EndChargeSpeechNotification: ChronosphereReady
		Duration: 500
		KillCargo: true
		DisplayRadarPing: True
		Range: 2
		SupportPowerPaletteOrder: 2
		DisplayTimerStances: Ally
	SupportPowerChargeBar:
	Power:
		Amount: -200
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	SpawnActorOnDeath:
		Actor: pdox.husk
		OwnerType: InternalName
	GpsDot:
		String: Super

IRON:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	-SpawnActorsOnSell:
	SelectionDecorations:
	Selectable:
		Bounds: 48,28,0,2
		DecorationBounds: 50,50,0,-12
	Building:
		Footprint: xx
		Dimensions: 2,1
		TerrainTypes: Clear,Road
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 7
		BuildLimit: 1
		Prerequisites: stek, ~structures.soviet, ~!player.moldova, ~techlevel.unrestricted
		Description: Stores and recharges the Invulnerability power.\nMaximum one can be built.\n  Requires power to operate.\n  Special Ability: Invulnerability\nMakes a group of units Invulnerable\nand Immune to EMP for a short time.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Iron Curtain
	Health:
		HP: 100000
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
		HasMinibib: true
	GrantExternalConditionPower@IRONCURTAIN:
		PauseOnCondition: disabled
		OrderName: IronCurtainPower
		Icon: invuln
		ChargeInterval: 4500
		Description: Invulnerability
		LongDesc: Makes a group of units Invulnerable and\nImmune to EMP for 20 seconds.
		Duration: 500
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: IronCurtainCharging
		EndChargeSpeechNotification: IronCurtainReady
		DisplayRadarPing: True
		Condition: invulnerability
		OnFireSound: ironcur9.aud
		SupportPowerPaletteOrder: 2
		DisplayTimerStances: Ally
	SupportPowerChargeBar:
	Power:
		Amount: -200
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	SpawnActorOnDeath:
		Actor: iron.husk
		OwnerType: InternalName
	GpsDot:
		String: Super

MSLO:
	Inherits: ^ScienceBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	-SpawnActorsOnSell:
	Selectable:
		Bounds: 48,24
	Building:
		Footprint: xx
		Dimensions: 2,1
		TerrainTypes: Clear,Road
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 9
		BuildLimit: 1
		Prerequisites: techcenter, ~!structures.gdi, ~!structures.nod, ~techlevel.unrestricted
		Description: Stores and prepares an atomic bomb.\nRequires power to operate.\nMaximum 1 can be built.\n  Special Ability: Atom Bomb\nLaunches a devastating atomic bomb at target location.
	Tooltip:
		Name: Missile Silo
	Valued:
		Cost: 2500
	Health:
		HP: 100000
	Armor:
		Type: Wood
	ProvidesPrerequisite@buildingname:
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	NukePower@Normal:
		OrderName: NukeMissile
		PauseOnCondition: disabled
		RequiresCondition: !russia.player
		Cursor: nuke
		Icon: abomb
		ChargeInterval: 13500
		Description: Atom Bomb
		LongDesc: Launches a devastating atomic bomb at target location.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: AbombLaunchDetected
		MissileWeapon: atomic
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomicon
		FlashType: Nuke
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 1
	NukePower@Faster:
		OrderName: AdvNukeMissile
		PauseOnCondition: disabled
		RequiresCondition: russia.player
		Cursor: nuke
		Icon: abomb
		ChargeInterval: 11250
		Description: Atom Bomb
		LongDesc: Launches a devastating atomic bomb at target location.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: AbombLaunchDetected
		MissileWeapon: atomic
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomicon
		FlashType: Nuke
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 1
	GrantConditionOnFaction@faster:
		Condition: russia.player
		Factions: russia
		ResetOnOwnerChange: True
	SupportPowerChargeBar:
	Power:
		Amount: -150
		RequiresCondition: !build-incomplete
	MustBeDestroyed:
		RequiredForShortGame: false
	WithNukeLaunchAnimation:
		RequiresCondition: !build-incomplete
	Cloak:
		InitialDelay: 150
		CloakDelay: 75
		IsPlayerPalette: true
		UncloakOn: Attack, Damage
		CloakTypes: Cloak, Thief
		PauseOnCondition: cloak-force-disabled
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	SpawnActorOnDeath:
		Actor: mslo.husk
		OwnerType: InternalName
	GpsDot:
		String: Nuke

AGUN:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAir
	-SpawnActorsOnSell:
	-WithSpriteBody:
	-ActorPreviewPlaceBuildingPreview:
	WithEmbeddedTurretSpriteBody:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	BodyOrientation:
		UseClassicFacingFudge: True
	SelectionDecorations:
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,32,0,-4
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 6
		Prerequisites: dome, ~structures.allies, ~!player.spain, ~!player.greece, ~techlevel.medium
		Description: Anti-Air base defense.\nRequires power to operate.\n  Strong vs Aircraft\n  Weak vs Ground units
	Valued:
		Cost: 800
	Tooltip:
		Name: AA Gun
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 15
		InitialFacing: 204
	Armament:
		Weapon: ZSU-23
		LocalOffset: 520,100,450, 520,-150,450
		MuzzleSequence: muzzle
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	SpawnActorOnDeath:
		Actor: agun.husk
		OwnerType: InternalName

SAM:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@shape: ^2x1Shape
	-SpawnActorsOnSell:
	-WithSpriteBody:
	-ActorPreviewPlaceBuildingPreview:
	WithEmbeddedTurretSpriteBody:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	Selectable:
		Bounds: 48,24
	HitShape:
		Type: Rectangle
			TopLeft: -768,-512
			BottomRight: 768,512
	Building:
		Footprint: xx
		Dimensions: 2,1
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 6
		Prerequisites: dome, ~structures.soviet, ~!player.uzbek, ~techlevel.medium
		Description: Anti-Air base defense.\nRequires power to operate.\n  Strong vs Aircraft\n  Weak vs Ground units
	Valued:
		Cost: 700
	Tooltip:
		Name: SAM Site
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 15
		InitialFacing: 0
	Armament:
		Weapon: Nike.6shot
		LocalOffset: 0,0,320
		MuzzleSequence: muzzle
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -40
		RequiresCondition: !build-incomplete
	BodyOrientation:
		UseClassicFacingFudge: True
	SpawnActorOnDeath:
		Actor: sam.husk
		OwnerType: InternalName

HSAM:
	Inherits: SAM
	-AttackTurreted:
	-WithBuildingBib:
	-SpawnActorOnDeath:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 11
		Prerequisites: dome, stek, ~structures.soviet, ~!player.uzbek, ~techlevel.high
		Description: Cloaked Anti-Air base defense.\n  Strong vs Aircraft.\n  Weak vs Ground units.
	Tooltip:
		Name: Camo SAM Site
	Valued:
		Cost: 850
	Turreted:
		RealignDelay: -1
	AttackPopupTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	Cloak:
		InitialDelay: 125
		CloakDelay: 75
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || empdisable || build-incomplete || is-shooting
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionOnAttack@UNCLOAK:
		Condition: is-shooting
		ArmamentNames: primary
		RevokeDelay: 75
	SpawnActorOnDeath:
		Actor: hsam.husk
		OwnerType: InternalName

OILB:
	Inherits: ^TechBuilding
	Inherits@shape: ^2x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-300,0, 420,512,0, -420,-512,0, -630,300,0
	Selectable:
		Priority: 0
		Bounds: 48,48
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 80000
	RevealsShroud:
		Range: 4c0
	CaptureManager:
	Capturable:
		Types: building
	CapturableProgressBar:
	CapturableProgressBlink:
	EngineerRepairable:
	CashTrickler@NORMAL:
		Interval: 375
		Amount: 100
		RequiresCondition: !owner.is.turkmen && !ecosabotage
	CashTrickler@BOOSTED:
		Interval: 375
		Amount: 125
		RequiresCondition: owner.is.turkmen && !ecosabotage
	GrantConditionOnFaction@incomeboost:
		Condition: owner.is.turkmen
		Factions: turkmen
		ResetOnOwnerChange: True
	WithColoredOverlay@ECOSABOTAGE:
		Palette: ecosabot
		RequiresCondition: ecosabotage
	TimedConditionBar@ECOSABOTAGE:
		Color: 00781e
		Condition: ecosabotage
	ExternalCondition@ECOSABOTAGE:
		Condition: ecosabotage
	Tooltip:
		Name: Oil Derrick
	TooltipDescription@ally:
		Description: Provides additional funds.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to receive additional funds.
		ValidStances: Neutral, Enemy
	Explodes:
		Weapon: BarrelExplode
	GpsDot:
		String: Oil
	AppearsOnMapPreview:
	GivesCashOnCapture:
		Amount: 100
	UpdatesDerrickCount:
	SpawnActorOnDeath:
		Actor: OILB.Husk
		OwnerType: InternalName

MISS:
	Inherits: ^TechBuilding
	Inherits@shape: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,0,0, 840,-1024,0, 420,768,0, -840,0,0, -840,-1024,0, -840,1024,0
	Selectable:
		Priority: 0
		Bounds: 72,48
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	RevealsShroud:
		MinRange: 6c0
		Range: 10c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Armor:
		Type: Wood
	Tooltip:
		Name: Communications Center
	TooltipDescription@ally:
		Description: Provides range of vision.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to give visual range.
		ValidStances: Neutral, Enemy
	WithBuildingBib:
	CaptureManager:
	Capturable:
		Types: building
	CapturableProgressBar:
	CapturableProgressBlink:
	EngineerRepairable:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	AppearsOnMapPreview:
	GpsDot:
		String: Communications
	SpawnActorOnDeath:
		Actor: MISS.Husk
		OwnerType: InternalName

HOSP:
	Inherits: ^TechBuilding
	Inherits@shape: ^2x2Shape
	OwnerLostAction:
		Action: ChangeOwner
	Selectable:
		Priority: 0
		Bounds: 48,48
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 80000
	CaptureManager:
	Capturable:
		Types: building
	CapturableProgressBar:
	CapturableProgressBlink:
	EngineerRepairable:
	Tooltip:
		Name: Hospital
	TooltipDescription@ally:
		Description: Provides infantry with self-healing.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to enable self-healing for infantry.
		ValidStances: Neutral, Enemy
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	AppearsOnMapPreview:
	GpsDot:
		String: Hospital
	SpawnActorOnDeath:
		Actor: HOSP.Husk
		OwnerType: InternalName

BIO:
	Inherits: ^TechBuilding
	Inherits@shape: ^2x2Shape
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Selectable:
		Bounds: 48,48
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	RevealsShroud:
		Range: 4c0
	CaptureManager:
	CapturableProgressBlink:
	Capturable:
		Types: building
	CapturableProgressBar:
	EngineerRepairable:
	Power:
		Amount: 300
	Tooltip:
		Name: Nuclear Reactor
	TooltipDescription@ally:
		Description: Provides an tremendous amount of Power.\nGrants Hazmat suits to Infantry for Tiberium immunity.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to gain +300 Power and Tiberium Immunity for Infantry.
		ValidStances: Neutral, Enemy
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	AppearsOnMapPreview:
	GpsDot:
		String: Nuke
	WithIdleOverlay@SMOKE:
		Sequence: idle-smoke
	SpawnActorOnDeath:
		Actor: BIO.Husk
		OwnerType: InternalName

FCOM:
	Inherits: ^TechBuilding
	Inherits@shape: ^2x2Shape
	Selectable:
		Bounds: 48,48
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Wood
	Tooltip:
		Name: Expansion Post
	TooltipDescription@ally:
		Description: Provides buildable area and +30 Power.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to gain buildable area and +30 Power.
		ValidStances: Neutral, Enemy
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	CaptureManager:
		BeingCapturedCondition: being-captured
	Capturable:
		Types: building
	CapturableProgressBar:
	CapturableProgressBlink:
	GivesBuildableArea:
		AreaTypes: building
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 8c0
	EngineerRepairable:
	Power:
		Amount: 30
	ProvidesPrerequisite@buildingname:
	AppearsOnMapPreview:
	GpsDot:
		String: Forward
	SpawnActorOnDeath:
		Actor: FCOM.Husk
		OwnerType: InternalName
	RenderSprites:
		Image: acom

ANYPOWER:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Power Plant
	Buildable:
		Description: Power Plant

BARRACKS:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

AFLDORWEAP:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: War Factory or Airfield
	Buildable:
		Description: War Factory or Airfield

TECHCENTER:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Tech Center
	Buildable:
		Description: Tech Center

SPMST:
	Inherits: ^Building
	Valued:
		Cost: 500
	Tooltip:
		Name: Spy Mast
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Health:
		HP: 25000
	Armor:
		Type: Wood
	Power:
		Amount: -10
	-Capturable:
	-Capturable@2:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-SpawnActorsOnSell:
	-ShakeOnDeath:
	-RepairableBuilding:
	-EngineerRepairable:
	-WithBuildingRepairDecoration:
	-GpsDot:
	-Demolishable:
	-SoundOnDamageTransition:
	-Sellable:
	-GivesBuildableArea:
	-AcceptsDeliveredCash:
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	RevealsShroud:
		Range: 9c256
	DetectCloaked:
		Range: 3c768
	RenderDetectionCircle:
	Disguise:
		DisguisedCondition: disguised
		Voice: none
		ValidStances: Neutral
		TargetTypes: TreeDisguise
		DisguisedAsConditions:
			t01: isatree01
			t02: isatree02
			t03: isatree03
			t05: isatree05
			t06: isatree06
			t07: isatree07
			t08: isatree08
			t10: isatree10
			t11: isatree11
			t12: isatree12
			t13: isatree13
			t14: isatree14
			t15: isatree15
			t16: isatree16
			t17: isatree17
			t01.husk: isatree01husk
			t02.husk: isatree02husk
			t03.husk: isatree03husk
			t05.husk: isatree05husk
			t06.husk: isatree06husk
			t07.husk: isatree07husk
			t08.husk: isatree08husk
			t10.husk: isatree10husk
			t11.husk: isatree11husk
			t12.husk: isatree12husk
			t13.husk: isatree13husk
			t14.husk: isatree14husk
			t15.husk: isatree15husk
			t16.husk: isatree16husk
			t17.husk: isatree17husk
	IgnoresDisguise:
	-Tooltip:
	DisguiseTooltip@default:
		Name: Spy Mast
		GenericName: Building
		RequiresCondition: !isatree01 && !isatree02 && !isatree03 && !isatree05 && !isatree06 && !isatree07 && !isatree08 && !isatree10 && !isatree11 && !isatree12 && !isatree13 && !isatree14 && !isatree15 && !isatree16 && !isatree17 && !isatree01husk && !isatree02husk && !isatree03husk && !isatree05husk && !isatree06husk && !isatree07husk && !isatree08husk && !isatree10husk && !isatree11husk && !isatree12husk && !isatree13husk && !isatree14husk && !isatree15husk && !isatree16husk && !isatree17husk
	DisguiseTooltip@tree:
		Name: Spy Mast
		GenericName: Tree
		RequiresCondition: isatree01 && isatree02 && isatree03 && isatree05 && isatree06 && isatree07 && isatree08 && isatree10 && isatree11 && isatree12 && isatree13 && isatree14 && isatree15 && isatree16 && isatree17
	DisguiseTooltip@treehusk:
		Name: Spy Mast
		GenericName: Tree (Burnt)
		RequiresCondition: isatree01husk && isatree02husk && isatree03husk && isatree05husk && isatree06husk && isatree07husk && isatree08husk && isatree10husk && isatree11husk && isatree12husk && isatree13husk && isatree14husk && isatree15husk && isatree16husk && isatree17husk
	Targetable:
		TargetTypes: Ground, Structure
		RequiresCondition: !disguised
	Targetable@disguised:
		TargetTypes: Tree
		RequiresCondition: disguised
	-WithSpriteBody:
	WithSpriteBody@Default:
		PauseOnCondition: isatree01 && isatree02 && isatree03 && isatree05 && isatree06 && isatree07 && isatree08 && isatree10 && isatree11 && isatree12 && isatree13 && isatree14 && isatree15 && isatree16 && isatree17 && isatree01husk && isatree02husk && isatree03husk && isatree05husk && isatree06husk && isatree07husk && isatree08husk && isatree10husk && isatree11husk && isatree12husk && isatree13husk && isatree14husk && isatree15husk && isatree16husk && isatree17husk
		RequiresCondition: !isatree01 && !isatree02 && !isatree03 && !isatree05 && !isatree06 && !isatree07 && !isatree08 && !isatree10 && !isatree11 && !isatree12 && !isatree13 && !isatree14 && !isatree15 && !isatree16 && !isatree17 && !isatree01husk && !isatree02husk && !isatree03husk && !isatree05husk && !isatree06husk && !isatree07husk && !isatree08husk && !isatree10husk && !isatree11husk && !isatree12husk && !isatree13husk && !isatree14husk && !isatree15husk && !isatree16husk && !isatree17husk
	WithSpriteBody@tree01:
		Name: tree01
		Sequence: tree01
		RequiresCondition: isatree01
	WithSpriteBody@tree02:
		Name: tree02
		Sequence: tree02
		RequiresCondition: isatree02
	WithSpriteBody@tree03:
		Name: tree03
		Sequence: tree03
		RequiresCondition: isatree03
	WithSpriteBody@tree05:
		Name: tree05
		Sequence: tree05
		RequiresCondition: isatree05
	WithSpriteBody@tree06:
		Name: tree06
		Sequence: tree06
		RequiresCondition: isatree06
	WithSpriteBody@tree07:
		Name: tree07
		Sequence: tree07
		RequiresCondition: isatree07
	WithSpriteBody@tree08:
		Name: tree08
		Sequence: tree08
		RequiresCondition: isatree08
	WithSpriteBody@tree10:
		Name: tree10
		Sequence: tree10
		RequiresCondition: isatree10
	WithSpriteBody@tree11:
		Name: tree11
		Sequence: tree11
		RequiresCondition: isatree11
	WithSpriteBody@tree12:
		Name: tree12
		Sequence: tree12
		RequiresCondition: isatree12
	WithSpriteBody@tree13:
		Name: tree13
		Sequence: tree13
		RequiresCondition: isatree13
	WithSpriteBody@tree14:
		Name: tree14
		Sequence: tree14
		RequiresCondition: isatree14
	WithSpriteBody@tree15:
		Name: tree15
		Sequence: tree15
		RequiresCondition: isatree15
	WithSpriteBody@tree16:
		Name: tree16
		Sequence: tree16
		RequiresCondition: isatree16
	WithSpriteBody@tree17:
		Name: tree17
		Sequence: tree17
		RequiresCondition: isatree17
	WithSpriteBody@tree01husk:
		Name: tree01husk
		Sequence: tree01husk
		RequiresCondition: isatree01husk
	WithSpriteBody@tree02husk:
		Name: tree02husk
		Sequence: tree02husk
		RequiresCondition: isatree02husk
	WithSpriteBody@tree03husk:
		Name: tree03husk
		Sequence: tree03husk
		RequiresCondition: isatree03husk
	WithSpriteBody@tree05husk:
		Name: tree05husk
		Sequence: tree05husk
		RequiresCondition: isatree05husk
	WithSpriteBody@tree06husk:
		Name: tree06husk
		Sequence: tree06husk
		RequiresCondition: isatree06husk
	WithSpriteBody@tree07husk:
		Name: tree07husk
		Sequence: tree07husk
		RequiresCondition: isatree07husk
	WithSpriteBody@tree08husk:
		Name: tree08husk
		Sequence: tree08husk
		RequiresCondition: isatree08husk
	WithSpriteBody@tree10husk:
		Name: tree10husk
		Sequence: tree10husk
		RequiresCondition: isatree10husk
	WithSpriteBody@tree11husk:
		Name: tree11husk
		Sequence: tree11husk
		RequiresCondition: isatree11husk
	WithSpriteBody@tree12husk:
		Name: tree12husk
		Sequence: tree12husk
		RequiresCondition: isatree12husk
	WithSpriteBody@tree13husk:
		Name: tree13husk
		Sequence: tree13husk
		RequiresCondition: isatree13husk
	WithSpriteBody@tree14husk:
		Name: tree14husk
		Sequence: tree14husk
		RequiresCondition: isatree14husk
	WithSpriteBody@tree15husk:
		Name: tree15husk
		Sequence: tree15husk
		RequiresCondition: isatree15husk
	WithSpriteBody@tree16husk:
		Name: tree16husk
		Sequence: tree16husk
		RequiresCondition: isatree16husk
	WithSpriteBody@tree17husk:
		Name: tree17husk
		Sequence: tree17husk
		RequiresCondition: isatree17husk
	Selectable:
		Bounds: 24,48,0,-12
	MustBeDestroyed:
		RequiredForShortGame: false

FTUR.popup:
	Inherits: FTUR
	-WithSpriteBody:
	-Buildable:
	-SpawnActorOnDeath:
	-AttackTurreted:
	-WithBuildingBib:
	Tooltip:
		Name: Camo Flame Turret
	Turreted@RANGE:
		RealignDelay: -1
	Turreted@MELEE:
		RealignDelay: -1
	AttackPopupTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
		CloseDelay: 50
		Turrets: melee-turret, ranged-turret
	WithEmbeddedTurretSpriteBody:
	Cloak:
		InitialDelay: 125
		CloakDelay: 75
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || empdisable || is-shooting || build-incomplete
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	GrantConditionWhileAiming@UNCLOAK:
		Condition: is-shooting
	RenderSprites:
		Image: ftur.hidden
	QuantizeFacingsFromSequence:
	BodyOrientation:

SPMST.summon:
	Inherits: ^SummonBase
	SpawnActorOnDeath:
		Actor: spmst
		RequiresCondition: !parachute
	KillsSelf:
		RequiresCondition: !parachute
	RenderSprites:
		Image: dummy

FTUR.summon:
	Inherits: ^SummonBase
	SpawnActorOnDeath:
		Actor: ftur.popup
		RequiresCondition: !parachute
	KillsSelf:
		RequiresCondition: !parachute
	RenderSprites:
		Image: dummy

PBOX.summon:
	Inherits: ^SummonBase
	SpawnActorOnDeath:
		Actor: pbox.empty
		RequiresCondition: !parachute
	KillsSelf:
		RequiresCondition: !parachute
	RenderSprites:
		Image: dummy

PBOX.empty:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
	-QuantizeFacingsFromSequence:
	-SpawnActorsOnSell:
	Building:
	Tooltip:
		Name: Pillbox
	Valued:
		Cost: 500
	CustomSellValue:
		Value: 250
	Targetable@DontEMP:
		TargetTypes: EMPInvalid
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 255
	BodyOrientation:
		QuantizedFacings: 8
	Cargo:
		Types: Infantry
		MaxWeight: 1
		PipCount: 1
		LoadedCondition: hasinside
	AttackGarrisoned:
		RequiresCondition: !build-incomplete
		Armaments: garrisoned
		PortOffsets: 384,0,128, 224,-341,128, -224,-341,128, -384,0,128, -224,341,128, 224,341,128
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
	RenderRangeCircle:
		FallbackRange: 6c0
	Power:
		Amount: -20
	DetectCloaked:
		Range: 3c768
		RequiresCondition: hasinside
	RenderSprites:
		Image: pbox
